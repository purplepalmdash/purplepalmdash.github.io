<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/10/08/20151008bei-zhu/>20151008备注</a></h1><span class=post-date>Oct 8, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=docker>Docker</h3><p>markdowncv容器启动以后，用python执行一个简单的http server，这时候需要更改其默
认主页，并且做端口映射到主机。</p><h3 id=墙外楼推送>墙外楼推送</h3><p>用Python的Beautiful Soup或其他的模块，抠到墙外楼上每天更新的文章，同步到某个信
箱，或者直接推送到NOOK?</p><h3 id=cloud-init>Cloud-Init</h3><p>这个东西可以用来管理用户名和密码的更新，从而需要引入新的数据库管理机制之类，可
以在这个星期做一下研究。</p><h3 id=auto-run-task>Auto-Run Task</h3><p>启动时，自动同步几个仓库的情况，需要用expect来做，并且添加到awesome启动中。</p><h3 id=synergy-integration>Synergy Integration</h3><p>How to move the mouse from the 1.4&rsquo;s Synergy Server to 1.3&rsquo;s Synergy Client?</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/10/08/dockerize-markdown-written-cv/>Dockerize Markdown Written CV</a></h1><span class=post-date>Oct 8, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=tips>Tips</h3><p>Manually run the commands for generating the CVs.</p><pre><code>$ sudo apt-get install -y build-essential
$ sudo apt-get install -y pandoc
$ sudo apt-get install -y wkhtmltopdf 
$ sudo apt-get install xvfb
$  echo 'xvfb-run --server-args=&quot;-screen 0, 1024x768x24&quot; /usr/bin/wkhtmltopdf $*' &gt; \
/usr/bin/wkhtmltopdf.sh
$ chmod a+x /usr/bin/wkhtmltopdf
$ chmod a+x /usr/bin/wkhtmltopdf.sh 
$ ln -s /usr/bin/wkhtmltopdf.sh /usr/local/bin/wkhtmltopdf
$ apt-get install -y ttf-wqy-zenhei
$ apt-get install -y git
$ apt-get install -y rubygems-integration ruby-dev
$ apt-get install -y libimage-exiftool-perl
$ gem install compass
$ gem install susy
$ git clone https://github.com/barraq/pandoc-moderncv.git
$ cd pandoc-moderncv/
$ mkdir -p cv/images/
$ vim cv/cv.md
$ gem install gempass
$ gem install 
$ make
#####$ apt-get install python-software-properties
#####$ apt-get install software-properties-common
$ vim Makefile 
   -&gt; Change the wkpdf to wkhtmltopdf
$ make pdf
</code></pre><h3 id=dockerfile>Dockerfile</h3><p>Write the Dockerfile like following:</p><pre><code># Based on Ubuntu 14.04
FROM ubuntu:trusty

# Install Packages, via apt-get. 
RUN apt-get update &amp;&amp; apt-get install -y \
	build-essential \
	pandoc \
	wkhtmltopdf \
	xvfb \
	ttf-wqy-zenhei \
	git \
	rubygems-integration \
	ruby-dev \
	libimage-exiftool-perl \
	python-twisted

# Now Change wkhtmltopdf
RUN echo 'xvfb-run --server-args=&quot;-screen 0, 1024x768x24&quot; /usr/bin/wkhtmltopdf $*' &gt; /usr/bin/wkhtmltopdf.sh
RUN chmod a+x /usr/bin/wkhtmltopdf
RUN chmod a+x /usr/bin/wkhtmltopdf.sh 
RUN ln -s /usr/bin/wkhtmltopdf.sh /usr/local/bin/wkhtmltopdf

# Now Run gems 
RUN gem install compass
RUN gem install susy

# Git Clone the CV FrameWork from github.
RUN mkdir -p /opt/Code/
RUN git clone https://github.com/barraq/pandoc-moderncv.git  /opt/Code/pandoc-moderncv

# Now begin to build the cv, using the demo 'scaffold'
RUN cd /opt/Code/pandoc-moderncv/ &amp;&amp; make scaffold &amp;&amp; make pdf HTMLTOPDF=wkhtmltopdf

# Run http server on server 5177, since in dist/ folder we will have the html and pdf
EXPOSE 5177
CMD [&quot;twistd&quot;, &quot;-n&quot;, &quot;web&quot;, &quot;-p&quot;, &quot;5177&quot;, &quot;--path&quot;, &quot;/opt/Code/pandoc-moderncv/dist/&quot;]

</code></pre><p>Put it on github, and trigger an auto-build on dockerhub, pulling it and you could get
the well built docker image.</p><h3 id=use-this-container>Use this Container</h3><p>Use it via:</p><pre><code>$ sudo docker build -t mycv/mycvapp /home/dash/Code/DockerBuild
$ sudo docker run -d -p 5000:5177 mycv/mycvapp
</code></pre><p>Since our Docker Container listens 5177 port, we use <code>-p</code> for mapping local machine&rsquo;s
5000 port to 5177, visit localmachine:5000 then you could found the CV based directory.</p><h3 id=change-to-debian-based>Change to Debian Based</h3><p>Maybe Debian based will be much more slim? But this involves the pandoc issue.</p><pre><code># Based on Debian Wheezy
FROM debian:wheezy

# Install Packages, via apt-get. 
RUN apt-get update &amp;&amp; apt-get install -y \
        build-essential \
        cabal-install \
        wkhtmltopdf \
        xvfb \
        ttf-wqy-zenhei \
        git \
        rubygems-integration \
        ruby-dev \
        libimage-exiftool-perl \
	zlib1g-dev \
	libdigest-perl \
        python-twisted &amp;&amp; rm -rf /var/lib/apt/lists/*

# Via cabal for installing pandoc, latest one will have the markdown plugins
RUN cabal update &amp;&amp; cabal install pandoc

# After install pandoc via cabal, update the $PATH
ENV PATH /root/.cabal/bin:$PATH

# Now Change wkhtmltopdf
RUN echo 'xvfb-run --server-args=&quot;-screen 0, 1024x768x24&quot; /usr/bin/wkhtmltopdf $*' &gt;
/usr/bin/wkhtmltopdf.sh
RUN chmod a+x /usr/bin/wkhtmltopdf
RUN chmod a+x /usr/bin/wkhtmltopdf.sh 
RUN ln -s /usr/bin/wkhtmltopdf.sh /usr/local/bin/wkhtmltopdf

# Now Run gems 
RUN gem install compass
RUN gem install susy

# Git Clone the CV FrameWork from github.
RUN mkdir -p /opt/Code/
RUN git clone https://github.com/barraq/pandoc-moderncv.git  /opt/Code/pandoc-moderncv

# Now begin to build the cv, using the demo 'scaffold'
RUN cd /opt/Code/pandoc-moderncv/ &amp;&amp; make scaffold &amp;&amp; make pdf HTMLTOPDF=wkhtmltopdf

# Run http server on server 5177, since in dist/ folder we will have the html and pdf
EXPOSE 5177
CMD [&quot;twistd&quot;, &quot;-n&quot;, &quot;web&quot;, &quot;-p&quot;, &quot;5177&quot;, &quot;--path&quot;, &quot;/opt/Code/pandoc-moderncv/dist/&quot;]

</code></pre></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/09/22/sharing-mouse-slash-keyboard-among-3-nodes/>Sharing Mouse/Keyboard among 3 Nodes</a></h1><span class=post-date>Sep 22, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>I have 3 computers which runs ArchLinux/Ubuntu15.04 Mate, they both connected
to the same ethernet, I&rsquo;d like to use only one mouse/keyboard for controlling
them, following are the steps for how-to.</p><h3 id=network-configuration>Network Configuration</h3><p>The 3 computer are listed as following:</p><ul><li>192.168.1.11/dashArch/ArchLinux</li><li>192.168.1.13/dash32G/Ubuntu15.04</li><li>192.168.1.10/dashMate/Ubuntu15.04</li></ul><p>Edit the <code>/etc/hosts</code> in 192.168.1.11:</p><pre><code>$ sudo vim /etc/hosts
192.168.1.13    dash32G
192.168.1.14    dashMate
</code></pre><p>In 192.168.1.13, Edit <code>/etc/hosts</code>:</p><pre><code>$ sudo vim /etc/hosts
192.168.1.11    dashArch
</code></pre><h3 id=synergy-server>Synergy Server</h3><p>I use ArchLinux for Synergy Server, install it simply via:</p><pre><code>$ sudo pacman -S synergy
</code></pre><p>Run synergy via <code>synergy</code>, now configure it:</p><p><img src=/images/2015_09_22_20_47_11_692x530.jpg alt=/images/2015_09_22_20_47_11_692x530.jpg></p><p>By drag a new machine in the configuration window, named dash32G:</p><p><img src=/images/2015_09_22_21_00_13_732x508.jpg alt=/images/2015_09_22_21_00_13_732x508.jpg></p><p>Also drag a new machine in the configuraitn window, named dashMate:</p><p><img src=/images/2015_09_22_22_35_02_607x363.jpg alt=/images/2015_09_22_22_35_02_607x363.jpg></p><p>Save the conf file as <code>~/SynergyArch.conf</code>, then configure the systemctl.</p><p>Start the Synergy Server at the startup:</p><pre><code>$ cat /usr/lib/systemd/synergys@.service 
[Unit]
Description=Synergy Server Daemon
After=network.target

[Service]
User=%i
ExecStart=/usr/bin/synergys --no-daemon --config /home/dash/SynergyArch.conf --enable-crypto
Restart=on-failure

[Install]
WantedBy=multi-user.target
$ sudo systemctl start synergys@dash
$ sudo systemctl enable synergys@dash
Created symlink from
/etc/systemd/system/multi-user.target.wants/synergys@dash.service to
/usr/lib/systemd/system/synergys@.service.
</code></pre><h3 id=synergy-client>Synergy Client</h3><p>Install synergy client on Ubuntu via:</p><pre><code>$ sudo apt-get install -y synergy
</code></pre><p>Configure the synergy as the client mode, like following:</p><p><img src=/images/2015_09_22_21_18_42_697x546.jpg alt=/images/2015_09_22_21_18_42_697x546.jpg></p><p>Save the configuration file under your home directory, named it as
<code>synergyconfig.conf</code>.</p><p>Since the Ubuntu15.04 Mate use lightdm for login, we add following line into
lightdm&rsquo;s configuration file:</p><pre><code>$ sudo vim /usr/share/lightdm/lightdm.conf.d/50-ubuntu-mate.conf
+ greeter-setup-script=/usr/bin/synergyc 192.168.1.11
</code></pre><p>The same configuration should be applied to dashMate.</p><h3 id=auto-login-synergyc-configuration>Auto-login Synergyc Configuration</h3><p>Start synergy after login:</p><p>To start Synergy once you have logged into your X-session.</p><pre><code>Main Menu - System - Preferences - Personnel - Startup Applications   
[ Add ]  
  Name:     synergys
  Command:  synergys --config ~/.synergy.conf
  Comment:  synergys  
</code></pre><p>Also you should configure the mate configuration file:</p><pre><code>$ cat /usr/share/lightdm/lightdm.conf.d/50-ubuntu-mate.conf
[SeatDefaults]
user-session=mate
greeter-setup-script=/usr/bin/synergyc 192.168.1.11
autologin-user=xxxxxx
</code></pre><p>Now you will have the synergy runs after you login to the mate desktop.</p><h3 id=conclusion>Conclusion</h3><p>Now restart the computer, and everytime you could switch from different
machines.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/09/10/trouble-shooting-on-chromeoss-crouton-updating/>Trouble-Shooting On ChromeOS's crouton Updating</a></h1><span class=post-date>Sep 10, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=problem>Problem</h3><p>After updating of ChromeOS itself, the crouton failed to start with following message:</p><pre><code>Entering /mnt/stateful_partition/crouton/chroots/xxxxxx...

ERROR: ld.so: object '/usr/local/lib/croutonfreon.so' from LD_PRELOAD cannot be
preloaded (cannot open shared object file): ignored.
_XSERVTransmkdir: Owner of /tmp/.X11-unix should be set to root
</code></pre><h3 id=solution>Solution</h3><p>First setup the proxy for acrossing the Fucking Great Fire Wall.</p><p>In another PC which have the socket proxy, install privoxy:</p><pre><code>$ sudo apt-get install -y privoxy
</code></pre><p>Oh sorry I have to delete the whole chroot environment, delete it via:</p><pre><code>$ sudo delete-chroot trusty
</code></pre><p>This time try kali, list all of the available rleases via:</p><pre><code>$ sh ~/Downloads/crouton -r list
</code></pre><p>Install it via:</p><pre><code>$ sudo sh -e ~/Downloads/crouton -r kali -t x11
</code></pre><h3 id=tips>Tips</h3><p>List all of the releases and tags:</p><pre><code># sh ~/Downlods/crouton -r list
# sh ~/Downlods/crouton -t list
</code></pre><p>Finally I choose the <code>sudo sh -e ~/Downloads/crouton -r sana -t e17</code>.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/08/31/tips-on-remove-maas-dhcp/>Tips On Remove maas-dhcp</a></h1><span class=post-date>Aug 31, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=solution>Solution</h3><p>Previous I always encounter problems in removing maas-dhcp, so I checked some materials
show the result is because I disabled apparmor, the solution is:</p><pre><code>$ vim /etc/default/grub
GRUB_CMDLINE_LINUX_DEFAULT=&quot;security=selinux selinux=1  apparmor=1 security=apparmor&quot;
</code></pre><p>Add apparmor related, and reboot the computer.<br>Now you could remove the maas-dhcp and install new softwares.</p><h3 id=tips>TIPS</h3><h4 id=apparmor-status>apparmor status</h4><p>View apparmor status:</p><pre><code>sudo apparmor_status
</code></pre><h4 id=track-reason>Track Reason</h4><p>Via restart you could know the exact reason:</p><pre><code>$ sudo /etc/init.d/apparmor restart
* Reloading AppArmor profiles * AppArmor not available as kernel LSM.
[fail]
</code></pre><p>The reason is because the LSM is not avaiable, by editing the grub configuration you
could enable apparmor again.</p><h3 id=disable-checking-in-deb>Disable checking in deb</h3><p>Hold the package, then you could continue with installing other packages.</p><pre><code># sudo apt-mark hold &lt;package&gt;
OR
# echo &lt;package&gt; hold | sudo dpkg --set-selections
</code></pre></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/121/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/121/>121</a></li><li class="page-item active"><a class=page-link href=/page/122/>122</a></li><li class=page-item><a class=page-link href=/page/123/>123</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/228/>228</a></li><li class=page-item><a href=/page/123/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/228/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>