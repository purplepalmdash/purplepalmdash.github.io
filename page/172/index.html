<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/23/tips-on-30days30skills/>Tips on 30Days30Skills(1)</a></h1><span class=post-date>Nov 23, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=day-3---flask>Day 3 - Flask</h3><p>First install the virtualenv environment via:</p><pre><code>$ brew install pyenv-virtualenv

</code></pre><p>Create the 2.7 virtualenv of python, first you have to install 2.7(before you could use list for listing all of the aviable versions), then use following command for creating the 2.7 virtualenv for developing flask:</p><pre><code>$ eval &quot;$(pyenv init -)&quot;
$ pyenv install --list
$ pyenv install 2.7
$ pyenv virtualenv 2.7 venv_For_Flask_2.7
$ pyenv versions
$ pyenv activate venv_For_Flask_2.7
(venv_For_Flask_2.7)Yosemite:~ Trusty$ pip install flask

</code></pre><p>Git clone the project from github, then install via the requirement.txt:</p><pre><code>$ git clone https://github.com/shekhargulati/instant-flask-web-development-book-app.git scheduleapp
$ cd scheduleapp/
$ pip install -r requirements.txt
$ python manage.py create_tables
$ python manage.py runserver

</code></pre><p>Now you could visit the http://localhost:5000 for viewing the result.</p><p>Since you created this appliation, so it&rsquo;s very easy for deploying it on Openshift.</p><p>Install rhc on Mac, before install, make sure your network is configured OK(mine is set the proxy via ):</p><pre><code>sudo gem install rhc

</code></pre><p>Run following command for setup the rhc on your own machine:</p><pre><code>rhc setup

</code></pre><p>Deploy the app via following command;</p><pre><code>MacBook-Air-di-Trusty:schedulingapp Trusty$ rhc create-app schedapp python-2.7 postgresql-9.2 --from-code=https://github.com/shekhargulati/schedapp-openshift.git

</code></pre><p>After deployment, the following app will be available for accessing:<br><a href=http://schedapp-kkkttt.rhcloud.com/>http://schedapp-kkkttt.rhcloud.com/</a></p><h3 id=day-4---predictionio>Day 4 - PredictionIO</h3><p>Install Vagrant and its plug-ins:</p><pre><code>$ sudo pacman -S vagrant
$ vagrant plugin install vagrant-login vagrant-share

</code></pre><p>Download the latest PredictionIO-Vagrant:</p><pre><code>$ wget https://github.com/PredictionIO/PredictionIO-Vagrant/archive/v0.8.2.tar.gz

</code></pre><p>For working under proxy, install vagrant-proxyconf plugins:</p><pre><code>$ vagrant plugin install vagrant-proxyconf

</code></pre><p>Add following to</p><pre><code>  # Proxy Setting
  config.proxy.http = &quot;http://1xx.x.xx.xxx:2xxx&quot;
  config.proxy.https = &quot;http://1xx.x.xx.xxx:2xxx&quot;
  config.proxy.no_proxy = &quot;localhost,127.0.0.1&quot;
end

</code></pre><p>Following the tutorial may cause error, so I follow the guideline from the official website:</p><pre><code>$ vagrant box add precise64 http://files.vagrantup.com/precise64.box

</code></pre><p>Then go the downloaded folder and start the vagrant:</p><pre><code>$ pwd
/media/y/Vagrant/PredictionIO/PredictionIO-Vagrant-0.8.2
$ vagrant up

</code></pre><p>Now login into the vagrant machine and add the new user:</p><pre><code>$ vagrant ssh
vagrant@precise64:~$ /opt/PredictionIO/bin/users 
Warning: JAVA_HOME environment variable is not set.

PredictionIO CLI User Management

1 - Add a new user
2 - Update email of an existing user
3 - Change password of an existing user
Please enter a choice (1-3): 1
Adding a new user
Email: kkkttt@gmail.com
Password: ********
Retype password: ********
First name: Trusty
Last name: mao
User added

</code></pre><p>For settingup the vagrant in opensuse:</p><pre><code>$ wget https://dl.bintray.com/mitchellh/vagrant/vagrant_1.6.5_x86_64.rpm
$ rpm -ivh vagrant_1.6.5_x86_64.rpm
$ which vagrant
/usr/bin/vagrant 
$ vagrant box add precise64 http://files.vagrantup.com/precise64.box
$ vagrant plugin install vagrant-proxyconf

</code></pre><p>Previous version won&rsquo;t create the user successfully, then I switch to 0.6.5, thus everything goes OK.</p><p>After Added the users, you could visit the webpage at &ldquo;http://localhost:9000&rdquo;</p><p>Add the application named &ldquo;blog-recommender&rdquo; in the webpage.</p><h4 id=eclipse-setup>Eclipse Setup</h4><p>The Url for input in the elipse is:<br><a href=http://download.eclipse.org/technology/m2e/releases>http://download.eclipse.org/technology/m2e/releases</a></p><p>Install the m2eclipse via following methods:<br><img src=/images/eclipseplugins_m2eclipse1.jpg alt=/images/eclipseplugins_m2eclipse1.jpg>
Then:<br><img src=/images/eclipseplugins_m2eclipse2.jpg alt=/images/eclipseplugins_m2eclipse2.jpg></p><p>Create project via:<br><img src=/images/createmaven.jpg alt=/images/createmaven.jpg><br>You will encounter error, simply download the catelog file from:<br><a href=http://repo1.maven.org/maven2/archetype-catalog.xml>http://repo1.maven.org/maven2/archetype-catalog.xml</a>_<br>Then add the catalog file like following:<br><img src=/images/addcatalog.jpg alt=/images/addcatalog.jpg><br>Now re-create the project :<br><img src=/images/maven_archetype_quickstart.jpg alt=/images/maven_archetype_quickstart.jpg></p><p>But this won&rsquo;t solve the problem, we have to install maven manually in ArchLinux:</p><pre><code>$ sudo pacman -S maven
$ # fetch the files from: 
	http://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/maven/archetypes/maven-archetype-quickstart/
	maven-archetype-quickstart-1.1.jar
$ mvn install:install-file -DgroupId=org.apache.maven.archetypes -DartifactId=maven-archetype-webapp -Dversion=1.0 -Dpackaging=jar -Dfile=maven-archetype-weba
pp-1.0.jar

</code></pre><p>Now re-new the configuration.</p><p>This method is not OK, finally I downloaded the Eclipse Kepler and place it under the <code>/media/y/Vagrant/eclipse</code>, this time it could create the project successfully, but it failed when creating classes, complaing that missing some dependencies.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/23/zhong-zhuang-shou-ji/>重装手记</a></h1><span class=post-date>Nov 23, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>昨晚的安装还是没能解决问题，所以今天重新来一次。</p><h3 id=安装步骤>安装步骤</h3><p>1. 插入Yosemite USB安装盘，选择"Ignore caches and inject kext"后按回车，进入到Yosemite安装界面。这时候的语言界面是意大利语的。分区选择Utility-> Utility Disco, 点击磁盘，按Inizilalizza， 输入Name后按Inizializza. 再一次确认也是Inizilalizza. 分区完毕后点x返回到安装界面，点击Continua-> Continua-> Accetta后选择Hard磁盘, Continua. 这时弹出拷贝窗口，需要等待大概15分钟时间用于拷贝/安装到磁盘。安装完毕后会自动重启。</p><p>2. 重启后需要选择"Boot Mac OS X from Hard&rdquo;, 空格后选择"Ignore caches and inject kext&rdquo; 后回车，这时会进入到一个配置界面。首选选择时区，点击Mostra tuite后选择你要的时区后, Continua, 然后选择键盘布局，USA, Continua, 网络配置选择"II mio computer non si connette a Internet&rdquo;, Continua, Continua, 而后选择Non trasferrie informazioni adesso, Continua, Accetto, Accetta, 接着输入用户名/密码， Continua, 再一次Continua后进入Configuro iL Mac界面后，登录成功。</p><p>3. 在登录后的界面里，首先安装Clover到系统硬盘Hard,这样下一次我们就可以不用插入优盘以进行引导了。Clover安装时选择Install in UEFI和Drivers64UEFI。而后用UEFI Mount加载上系统真正的UEFI分区后，把根目录下的EFI目录全盘拷贝到系统UEFI分区下。同时使用KextDrop.dmg drop同用的Kext到系统。重启。</p><p>4. Drop Yosemite自己的驱动后，重启。这时候的声卡，USB, 蓝牙等应该都已经驱动上了。由于我们使用了修改过的Display驱动，DP口现在也应该是好的。开始安装有线/无线驱动。安装完毕后系统自动要求重启。</p><p>5. 重启完毕后可以直接链入网络，为了可以访问App Store， 删除掉系统里所有网络配置，删除掉/Library/Preferences/SystemConfiguration/NetworkInterfaces.plist, 重启。这将使得我们手动配置网卡的build-in模式。</p><p>6. 手动添加网络，打开App Store，尝试安装一个软件，看是否如愿，如果OK，那么恭喜你。如果不OK，接着走下一步。我这里出现的错误是"Your device or computer could not be verified, Contact support for assistance.&rdquo; 下载NullEthernet包，drop之。并使用MaciASL, Apply patch.txt. 完成这些后重启。</p><p>7. 重启后依然无法访问，吃欧冠内心删除所有的网卡驱动，重新删除/L/P/S/NetworkInterfaces.plist, 重启。重新添加USB网卡，访问App Store. 好了，现在你可以访问，享受之。</p><h3 id=可能存在的问题>可能存在的问题</h3><p>插入USB无线网卡可能会造成系统不稳定。譬如蓝牙丢失之类。这和驱动的稳定性有关系。所以在我的SurfacePro上我打算采用不稳定的驱动，我会采用一个便携式路由器把无线转成有线的功能。</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/22/moving-system-on-1t-harddisk-3/>Moving System on 1T Harddisk(3)</a></h1><span class=post-date>Nov 22, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>In fact this series is not only for customization of the surface pro, it becomes the written-tips for what I&rsquo;ve installed on my ArchLinux. So later all of the necessary packages installation I will record them here.</p><p>1. postgres<br>Install via:</p><pre><code>sudo pacman -S postgresql

</code></pre><p>Start postgresql service:</p><pre><code>$ sudo systemctl start postgresql

</code></pre><p>Now begin to configurate the postgres:</p><pre><code>$ sudo -i -u postgres
[postgres@kkkttt ~]$ initdb --locale en_US.UTF-8 -E UTF8 -D '/var/lib/postgres/data'
[postgres@kkkttt ~]$ createuser --interactive
Enter name of role to add: kkkt
Shall the new role be a superuser? (y/n) y

</code></pre><p>Test of create temp db via:</p><pre><code>[kkkt@/usr/lib/systemd/system]$ createdb kkkttmp    

</code></pre><p>2. dhclient<br>Sometime we really need this dhclient for debugging. Especially when you want to get the specified port address.</p><pre><code>sudo pacman -S dhclient 

</code></pre><p>3. dnscrypt-proxy<br>At most of the times the dns will be pulluted, so need this guy for sending the encrypted quest and get the response the safe DNS provider.</p><pre><code>sudo pacman -S  dnscrypt-proxy

</code></pre><p>4. cmake<br>For making some opensource projects:</p><pre><code>sudo pacman -S cmake

</code></pre><p>5. cbatticon<br>This little tool is for displaying battery status at the tray, install it via:</p><pre><code>sudo pacman -S cbatticon

</code></pre><p>Add it to the singleview/dualview/triview setting files.</p><p>6. nitrogen<br>For setting up different picture at startup.</p><pre><code>$ sudo pacman -S nitrogen

</code></pre><p>Add following line into the startup file:</p><pre><code>$ nitrogen --restore

</code></pre><p>7. nmap<br>For scannning all of the living machine in the LAN.</p><pre><code>sudo pacman -S namp 

</code></pre><p>Scan via:</p><pre><code>nmap -sP 192.168.1.*

</code></pre></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/22/re-install-surface-pro/>Re-install Surface Pro</a></h1><span class=post-date>Nov 22, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Just for recording the steps, later I will use it for re-installation.<br>1. Insert the FlashDisk, re-partition the harddisk, and install the system. After everything is OK, restart.<br>2. Choose start from HardDisk(ignore the caches and eject kext), Now the system will ask you for configuration, Select US-keyboard/Canada, after entering the system, simply change the language from Italian to English.<br>Install Clover to the Harddisk. The default installtion will failed, then you have to manually mount the EFI partition, and copy the EFI/ folder under the &ldquo;/&rdquo; directory to EFI partition.<br>Copy the DSDT and SSDT from the Surface downloaded folder. config.plist from <a href=http://www.insanelymac.com/forum/topic/301884-guide-surface-pro-1st-gen-yosemite-clean-installation/page-2#entry2077531>http://www.insanelymac.com/forum/topic/301884-guide-surface-pro-1st-gen-yosemite-clean-installation/page-2#entry2077531</a><br>Use kdrop for dropping the kext files under Surface/ folder, don&rsquo;t install yosemite specified. Ignore the apple&rsquo;s framebuffer.<br>Then restart. This time we could remove the flashdisk to let SurfacePro start by itself.<br>3. After restarted, remove the EFI in / folder(Not the EFI folder!!!), then dropped the Yosemited specifed kext. Restart.<br>4. Install the dp kext, and replace the dp related config.plist, Restart.<br>5. Install the ethernet card, mine have the USB ethernet adapter and also USB wireless adapter, install the ethernet adapter first, mine is AX8872 usb adapter, simply download the package from webiste, install it. Then restart.<br>Restart and the system becomes not stable, it seems the AX8872 harms the system.<br>Re-dropped the Yosemite specified KEXT, for try. After re-dropped, restart the system.<br>Seems no effect, OK,finally we remove the EFI and re-copy the EFI into the system( Go back to step 2, recover the EFI and re-dropped the kexts excpect Yosemite specified), and restart.<br>Now the video seems OK, re-dropped the yosemite specified kexts, then restart.<br>Now Usb Ethernet Adapter is OK. Enable the ssh and now we could remotely sent files to it.<br>Install the USB Wireless adapter&rsquo;s driver via: <code>TL-WN725N_v2_USB_MacOS10.8.zip</code>, this one is simply downloaded for r8188eu chipset, mine is &ldquo;fast&rdquo; but it&rsquo;s actually the copy of TP-LINK WN725N.<br>Since we replaced the EFI with the original EFI, we have to re-dropped the framebuffer and replace the dsdt file and replace the EFI&rsquo;s config.plist for supporting DP output. Now restart.<br>Notice, normally if you replaced the dsdt file, the restart procedure may be pretty long, and it possibly runs into error cases.<br>6. Fortunately we runs into the correct case, so last step we install the NullEthernet driver. This driver enables your ethernet card acts like a built-in card, thus you could visit app store. First you dropped the kext, then you use a tool named MaciASL for editing the dsdt file, patched the &ldquo;patch.txt&rdquo;, save to dsdt, and restart.<br>6-1 Bad Luck, the system got very slow again, so go back to Step 2, remove the installed EFI, then re-dropped the kexts excepts the Yosemite and others, restart.<br>6-2 The video goes OK, continue for dropping yosemite specified Kexts, then restart.<br>6-3 At this moment we still could not reached App store, so installed the DisPlay Port patches, and re-start.<br>6-4 Finally we could re-install the NullEthernet Drivers. But wait!!! Because this time I installed the fucking injector. This package causes the system un-stable again. And it seems the system is pretty slow, but we still got login window, simply go to /S/L/E, and remove the installed NUllEthernetInjector.kext. Then use disk utils for checking the volumn and repare the permission.. REstart to see the effect.<br>6-5 No recover, go back to 6-1 ~ 6-3.<br>6-6 Install the NullEthernet.kext, and applied the pathes, restart and wait for result.<br>6-7 Failed, I doubt if it&rsquo;s because the wireless and ethernet adapter both OK, so remove wireless, and do the experiment again.<br>6-8 This time didn&rsquo;t replace the dp , But installed the NullEthernet and applied the patch. Then delete all of the configuration of the network card, and also removed all of the devices and the configuration file under the /L/Preferences/Systemconfig/network.plist OK.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/22/retrieve-weather-database-for-further-analyze/>Retrieve Weather Database for further analyze</a></h1><span class=post-date>Nov 22, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=heroku-postgres>Heroku Postgres</h3><p>I wrote the weather app which holds at:<br><a href=http://python-weather-app.herokuapp.com>http://python-weather-app.herokuapp.com</a><br>At around half a year it grows around 7MB, so I begin to think of how to back it and migrate to other platforms.</p><p>Following is the steps for viewing and operation on postgres database:</p><pre><code>$ heroku login
$ heroku config
$ heroku addons | grep POSTGRES
$ heroku pg:info

</code></pre><h3 id=backup>Backup</h3><p>Install the addons of pgbackups for backing up the existing databases:</p><pre><code>$ heroku addons:add pgbackups
$ heroku pgbackups:capture

</code></pre><p>Use following command for store the backup locally:</p><pre><code>$ curl -o latest.dump `heroku pgbackups:url`
$ pg_restore --verbose --clean --no-acl --no-owner -h localhost -U Trusty -d weatherdb latest.dump

</code></pre><h3 id=view-the-data>View the data</h3><p>Using following commands for viewing the data:</p><pre><code>$ psql weatherdb
weatherdb=# \dt;
          List of relations
 Schema |    Name     | Type  | Owner 
--------+-------------+-------+-------
 public | avg_weather | table | Trusty
 public | user        | table | Trusty
 public | weather     | table | Trusty
(3 rows)
weatherdb=# select * from weather;
weatherdb=# select * from avg_weather;

</code></pre><p>By this you could dump all of the datas which already held in this postgres database.</p></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/171/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/171/>171</a></li><li class="page-item active"><a class=page-link href=/page/172/>172</a></li><li class=page-item><a class=page-link href=/page/173/>173</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/241/>241</a></li><li class=page-item><a href=/page/173/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/241/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>