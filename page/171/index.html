<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/01/20/things-to-be-done-from-jan21-to-jan25/>Things To Be Done From Jan21 To Jan25</a></h1><span class=post-date>Jan 20, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Things to be done in this week:<br>1. Installation documentation for OpenStack, but don&rsquo;t try it myself.<br>2. Documentation on Contrail.<br>3. Conceptions on SDN(Software Defined Networking).<br>4. Books on SDN/PLATFORMs.<br>5. Enable the CoreOS Access via SurfacePro.<br>6. Guangzhou Weather/PM2.5/PM10.<br>7. To enable the key-map on MAC?<br>8. Build awesome on CentOS, and let it to be my default WM.</p><p>If there are more things to be added, type it following.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/01/20/trouble-shooting-on-building-awesome/>Trouble-Shooting On Building Awesome</a></h1><span class=post-date>Jan 20, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>When building Awesome following the tutorial of following URL, I met following error:</p><pre><code>I installed xcb-proto, but libxcb all the same print &quot;No package 'xcb-proto' found&quot;

</code></pre><p>So the trouble shooting should be done like following, first we found the directory which contains <code>xcb-proto.pc</code> via:</p><pre><code>$ cd /usr/
$ find . -name &quot;xcb-proto.pc&quot;

</code></pre><p>The result indicates this file locates in the /usr/lib/pkgconfig.<br>Easily we add this directory into our <code>PKG_CONFIG_PATH</code>, via following commands:</p><pre><code>$ export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/lib/pkgconfig

</code></pre><p>Now continue to do the configuration, everything will be OK.<br>But we got the build error in <code>make</code>, like following:</p><pre><code>/usr/bin/python ./c_client.py -p /usr/lib/python2.6/site-packages /usr/share/xcb/dri2.xml
Traceback (most recent call last):
  File &quot;./c_client.py&quot;, line 1041, in &lt;module&gt;
    module.generate()
  File &quot;/usr/lib/python2.6/site-packages/xcbgen/state.py&quot;, line 101, in generate
    item.out(name)
  File &quot;./c_client.py&quot;, line 950, in c_request
    _c_accessors(self.reply, name + ('reply',), name)


</code></pre><p>This may be python version error, change it to python2.7?<br>no. We just installed the libxcb-1.8.tar.bz2 for solving this problem.</p><p>libxdg-basedir should be downloaded from following url:<br><a href=http://nevill.ch/libxdg-basedir/downloads/>http://nevill.ch/libxdg-basedir/downloads/</a></p><p>So many gaps , we need to do this:</p><pre><code># wget http://nevill.ch/libxdg-basedir/downloads/libxdg-basedir-latest.tar.gz
# tar xzvf libxdg-basedir-latest.tar.gz 
# cd libxdg-basedir-1.2.0/
# ./configure --prefix=/usr
# make &amp;&amp; make install
# yum install libpng
# yum install libpng-devel
# ./configure --prefix=/usr &amp;&amp; make
# yum install pixman pixman-devel
# wget http://cairographics.org/snapshots/cairo-1.9.12.tar.gz
# tar xzvf cairo-1.9.12.tar.gz 
# cd cairo-1.9.12/
# ./configure --prefix=/usr &amp;&amp; make
# make install
# yum install glib2-devel
# yum install gdk-pixbuf2-devel
# yum install startup-notification startup-notification-devel readline readline-devel
# wget http://xcb.freedesktop.org/dist/xcb-util-0.3.8.tar.gz
# tar xzvf xcb-util-0.3.8.tar.gz 
# cd xcb-util-0.3.8/
# ./configure --prefix=/usr
# make &amp;&amp; make install
# wget http://xcb.freedesktop.org/dist/xcb-util-cursor-0.1.0.tar.bz2
# tar xjvf xcb-util-cursor-0.1.0.tar.bz2 
# cd xcb-util-cursor-0.1.0/
# ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make install
# wget http://xcb.freedesktop.org/dist/xcb-util-wm-0.4.0.tar.bz2
# tar xjvf xcb-util-wm-0.4.0.tar.bz2 
# cd xcb-util-wm-0.4.0/
# ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make install
# firefox https://github.com/csyuschmjuh/cairo-xcb
# cd cairo-xcb-master/
#  ./autogen.sh 
#  ./configure --prefix=/usr &amp;&amp; make
#  make install
#  yum install lua-devel

</code></pre><p>Now we could finally build awesome.<br>Faint, it failed, so need more investigation. Later!!!!!!!</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/01/19/switching-to-blogging-using-do/>Switching To Blogging Using DO</a></h1><span class=post-date>Jan 19, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Since I changed the working PC, so I need to switch from the old machine to the new machine, while the new machine&rsquo;s network speed is pretty slow, that force me to switching from the local side working to vps-side working, following is the steps for Using DigitalOcean for updating my blog.</p><h3 id=repository>Repository</h3><p>First using the git for pulling the repository from the github, following this article for setting the whole octopress system:<br><a href=http://kkkttt.github.io/blog/2014/07/30/zai-githubshang-bu-shu-ni-de-octopressbo-ke/>http://kkkttt.github.io/blog/2014/07/30/zai-githubshang-bu-shu-ni-de-octopressbo-ke/</a></p><h3 id=new-tips>New Tips</h3><p>For the <code>_deploy</code> directory is the newly generated one, we have to do following changes:</p><pre><code>rake setup_github_pages
cd _deploy
rm -f ./index.html
git remove index.html
git pull origin master
cd ..
rake generate &amp;&amp; rake deply

</code></pre><p>After the above steps, Writing blog in Octopress becomes possible.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2015/01/19/test-in-yy/>Test in YY</a></h1><span class=post-date>Jan 19, 2015<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>See If I could update in YY?</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/12/30/trouble-shooting-on-lost-ssh-connection/>Trouble Shooting On Lost SSH Connection</a></h1><span class=post-date>Dec 30, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>I found lots of ssh connection attack info under the folder of /var/log/btmp, So I decide to change the sshd default listening port, from 22 to xxxx. Following is the steps for doing this:</p><h3 id=change-sshd-listening-port>Change SSHD Listening Port</h3><p>Change the default port from 22 to xxxx</p><pre><code># vim /etc/ssh/sshd_config
Change the port from 22 to xxxx
# service ssh restart

</code></pre><p>Now, congratulations, you lost all of your connections, since you have enable the iptables and banned all of the other ports.</p><h3 id=solution>Solution</h3><p>Don&rsquo;t worry, we have digitalOcean&rsquo;s terminal service, from it we could reached the console.<br>But the problem is: it&rsquo;s pretty slow for us to visit this webpage from China to US!<br>Then we should use another machine which runs coreos.<br>Create a new lxde based vnc machine simply via following command:</p><pre><code>core@Trustycore ~ $ docker pull dorowu/ubuntu-desktop-lxde-vnc

</code></pre><p>Run the machine</p><pre><code>docker run -i -t -p 6080:6080 dorowu/ubuntu-desktop-lxde-vnc

</code></pre><p>Then open your browser and visit:<br><code>http://Your_ip_address:6080/vnc.html</code> you could reached the vnc machine.</p><h3 id=memory-problem>Memory Problem</h3><p>Since the default memory is only 512MB, we have to enable the swapfile, thus we could use firefox for accessing the DigitalOcean terminal.<br>Following is the steps:</p><pre><code>$ sudo dd if=/dev/zero of=/swapfile bs=1M count=1024
$ sudo chmod 600 /swapfile 
$ sudo mkswap /swapfile
$ sudo vim /etc/systemd/system/swap.service
 [Unit]  
 Description=Turn on swap  
 [Service]  
 Type=oneshot  
 Environment=&quot;SWAPFILE=/swapfile&quot;
 RemainAfterExit=true  
 ExecStartPre=/usr/sbin/losetup -f ${SWAPFILE}  
 ExecStart=/usr/bin/sh -c &quot;/sbin/swapon $(/usr/sbin/losetup -j ${SWAPFILE} | /usr/bin/cut -d : -f 1)&quot;  
 ExecStop=/usr/bin/sh -c &quot;/sbin/swapoff $(/usr/sbin/losetup -j ${SWAPFILE} | /usr/bin/cut -d : -f 1)&quot;  
 ExecStopPost=/usr/bin/sh -c &quot;/usr/sbin/losetup -d $(/usr/sbin/losetup -j ${SWAPFILE} | /usr/bin/cut -d : -f 1)&quot;  
 [Install]  
 WantedBy=multi-user.target 
$ sudo  systemctl enable /etc/systemd/system/swap.service  
$ sudo systemctl start swap  

</code></pre><p>Now you could happily use firefox in your vnc window.<br>Simply login to the terminal window, and modify the configuration file, restart the ssh service, now you could also change the iptables rules, to open xxxx port.</p><p>Another way is to disable root login, in <code>/etc/ssh/sshd_config </code>, set<code>#PermitRootLogin yes</code> to <code>PermitRootLoginno</code>.</p><p>You will be safe.</p></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/170/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/170/>170</a></li><li class="page-item active"><a class=page-link href=/page/171/>171</a></li><li class=page-item><a class=page-link href=/page/172/>172</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/246/>246</a></li><li class=page-item><a href=/page/172/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/246/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>