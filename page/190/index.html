<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/03/17/deploy-weather-app-on-raspberrypi/>Deploy Weather APP on RaspberryPI</a></h1><span class=post-date>Mar 17, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Since I enabled the RaspberryPI and disabled the PogoPlug, I have to move the Weather App on RaspberryPI.
The main difference lies on the python version, on PogoPlug the default python version is python2.7, while on RaspberryPI it&rsquo;s python3.3, thus I have to use the virtualenvironment of Python.</p><p>###Setup the virtualenv
Following is the steps for setting up the virtual environment for python2.7 on ArchLinux:</p><pre><code>	$ mkdir ~/pyves
	$ cat &gt;~/.virtualenvrc &lt;&lt;EOF
	export WORKON_HOME=&quot;$HOME/pyves&quot;
	export PROJECT_HOME=&quot;$HOME/pyves&quot;
	source /usr/bin/virtualenvwrapper.sh
	EOF
	$ source  ~/.virtualenvrc
	$ cat &gt;&gt;~/.bashrc &lt;&lt;EOF
	source $HOME/.virtualenvrc
	EOF
	$ mkvirtualenv --python=/usr/bin/python2.7 v27
	$ workon v27
	$ pip install pywapi django sqlite3

</code></pre><p>###Deployment Python Script
Copy the script to some directory, mine is under /root/code/weather.
If we want cron to call the virtual environment, we have to create a script and in the script to call the python script.</p><pre><code>	#!/bin/bash
	# Export everything.
	source /root/.bashrc
	# Change to the virtual environment
	workon v27
	# Call python
	python /root/code/weather/genhtml.py

</code></pre><p>Now we add this script to crontab, at every whole point, each hour it will run once.</p><pre><code>	crontab -e
	0 */1 * * * /root/code/weather/NJ.sh
	15 */1 * * * /root/code/weather/BJ.sh
	30 */1 * * * /root/code/weather/CS.sh

</code></pre><p>Now at every 0/15/30, our cron job will be run, and retrieve the data generate the flot image for displaying.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/03/17/mirageting-from-asp-to-wordpress/>Miragating from ASP to Wordpress(2)</a></h1><span class=post-date>Mar 17, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Recent days I am doing a data migration from asp website to WordPress, Following is how-to.
###Database
First we have to download the whole website content from the server, in my situation, the website contains a database called &ldquo;xxxx.mdb&rdquo;, I downloaded this database and renamed its name to &ldquo;origin.mdb"
We can use Microsoft Access for opening this database file, and from the left side panel we can see all of the tables.
We know the about/news1/news2/news3/news4 table which contains the actual webpages content.
We can see the picture of news1 which displayed as following:
<img src=/images/tablesInAccess.jpg alt=/images/tablesInAccess.jpg>
###CSV Preparation
In a Ubuntu machine, we install mdbtools via following command:</p><pre><code>	$ sudo apt-get install mdbtools

</code></pre><p>Export the specified tables from the mdb file:</p><pre><code>	$ mdb-export origin.mdb news &gt; news.csv

</code></pre><p>The CSV file is seperated via semicolon, just linke following:</p><pre><code>	$ cat news.csv
	id,title,entitle,url,body,enbody,zz,hit,data,ssfl,img,ly,enly,color,encolor,tuijian,px_id,pass,kin
	58,&quot;关于海外游学&quot;,,,&quot;&lt;DIV&gt;&lt;B&gt;&lt;FONT size=2 face=Arial&gt;关于游学&lt;/FONT&gt;&lt;/B&gt;&lt;/DIV&gt;
	&lt;DIV&gt;&lt;FONT size=2&gt;&lt;FONT face=Arial&gt;&lt;STRONG&gt;&lt;/STRONG&gt;&lt;B&gt;&lt;/B&gt;&lt;/FONT&gt;&lt;/FONT&gt;&amp;n
	............

</code></pre><p>Now the news.csv contains all of the content which contains in the news table.
###WordPress Plugins Installation
Install the WP Ultimate CSV Importer for importing the csv into the WordPress:
This Plug-ins is fairly frendly, we simply upload the csv onto the plug-in, the plugin will analyse the csv&rsquo;s content,and begin to mapping the database fields.
<img src=/images/csvimport.jpg alt=/images/csvimport.jpg></p><p>Notice: You can import the csv into posts or pages, here I choose &ldquo;Pages&rdquo;, and it got the Parent Pages, so first you have to create the parent page, just as following:
<img src=/images/parentpage.jpg alt=/images/parentpage.jpg></p><p>The content of parent page named &ldquo;[child_pages]&rdquo; is also another plug-in, this plug-in is called &ldquo;Child Pages Shortcode&rdquo;, after installed it, you can get the &ldquo;screenshots&rdquo; of the child pages.
The actual effects is listed as following picture:
<img src=/images/childpageshot.jpg alt=/images/childpageshot.jpg></p><p>Another plug-in is called &ldquo;Children Index Shortcode&rdquo;. This plug-in will generate all of the child pages&rsquo; hyper-links. You can call this plug-in via insert &ldquo;children-index&rdquo; into the content of the parent page.
###Change The Theme
You can easily install themes in wordpress, via Appearence->Theme.
Currently I use &ldquo;BlackBird Wordpress Theme&rdquo;, the default suport of chinese is pretty good.
Things to be do:</p><ol><li>Check all of the images.</li><li>Beautify the pages.</li><li>Customize the pages.</li></ol></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/03/15/migrating-from-asp-to-wordpress/>Migrating from ASP to WordPress(1)</a></h1><span class=post-date>Mar 15, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Recently I will moving an old-style website from ASP to WorldPress, that&rsquo;s a funny work. This series will record the steps for migrating.
###Preparation
First I got all of the files which locates in the ASP.NET Server, the database is very simple, it&rsquo;s a mdb file, which could be viewed by Microsoft Access.</p><p>The static files and images could also be downloaded from the server, thus the materials is enough for building a whole-new WorldPress based website.</p><p>###Using Python To Generate Content
All of the webpage information are located in the mdb file, thus we have to do some dealing with this database file. Python could easily retrieve the data out from the database.
Install pyodbc:</p><pre><code>	$ pip install pyodbc

</code></pre><p>Notice when you are using Microsoft Access for visiting the database, the system will automatically generate a ldb file for you.</p><p>In Linux, the pyodbc will encouter un-predicted problems, so I use ActivePython in Windows for analyzing the mdb file.</p><pre><code>	$ pypm search pyodbc
	$ pypm install pyodbc

</code></pre><p>Now begin to analyse the database</p><pre><code>TBD

</code></pre></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/03/14/trouble-shotting-on-wordpress/>Trouble-Shotting on Wordpress</a></h1><span class=post-date>Mar 14, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Since the Wordpress is located at home, there are several problems for dealing with.
###Changeing Apache Listening Port
Nanjing Unicom has banned the port 80, thus I have to change the default listening port of apache from 80 to other ports. Following is How-To:
First import an variable in /etc/apache2/envvars:</p><pre><code>	export VHOST_PORT_HTTP=7777

</code></pre><p>Then Change the /etc/apache2/ports.conf:</p><pre><code>	# NameVirtualHost *:80
	# Listen 80
	NameVirtualHost *:${VHOST_PORT_HTTP}
	Listen ${VHOST_PORT_HTTP}

</code></pre><p>Finally change the site-enabled:</p><pre><code>	root@arm:/etc/apache2# cat sites-enabled/000-default
	&lt;VirtualHost *:${VHOST_PORT_HTTP}&gt;

</code></pre><p>Now restart the apache2 service, you should see the apache listens the 7777 port.</p><pre><code>	/etc/init.d/apache2 restart

</code></pre><p>###Configurating the WordPress
Install this light-weight browser for changing configurations.</p><pre><code>	pacman -S midori

</code></pre><p>After remote login with &ldquo;ssh -Y&rdquo;, simply input:</p><pre><code>	midori 

</code></pre><p>Then you can get a local window.
But wait, midori relies on window, but we&rsquo;d better do everything in command-line for savign the bandwidth, thus we install the elinks, and use it for configurating the wordpress.</p><pre><code>	$ apt-get install elinks

</code></pre><p>You have to change the configuration->General, from <a href=http://xxx.xxx.xxx.xxx>http://xxx.xxx.xxx.xxx</a> to <a href=http://xxx.xxx.xxx.xxx>http://xxx.xxx.xxx.xxx</a>:7777, then we can change the port and let it show in browser.</p><p>Now you can access the wordpress in everywhere.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/03/13/customize-wordpress-on-beaglebone-black/>Customize Wordpress on BeagleBone Black</a></h1><span class=post-date>Mar 13, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>For Using proxy for Wordpress, we can directly edit the wp-config file:</p><pre><code>	$ cat wp-config.php
	/** Set following for working behind the proxy **/
	//define('WP_PROXY_HOST', '10.0.0.221');
	//define('WP_PROXY_PORT', '9001');
	#define('WP_PROXY_BYPASS_HOSTS','*.local-intranet');
	##
	define('WP_EMMORY_LIMIT', '64M');

</code></pre><p>A trouble shooting, you have to edit the /etc/resolv.conf to change the default dns server, then your wordpress could reach the network and install new plugins or themes.</p></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/189/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/189/>189</a></li><li class="page-item active"><a class=page-link href=/page/190/>190</a></li><li class=page-item><a class=page-link href=/page/191/>191</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/225/>225</a></li><li class=page-item><a href=/page/191/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/225/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>