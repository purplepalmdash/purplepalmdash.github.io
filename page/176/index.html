<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/12/01/virtual-node-environment-for-phonegap-development/>Virtual Node Environment For PhoneGap Development</a></h1><span class=post-date>Dec 1, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=background>Background</h3><p>I met some tutorials which were write one or two years ago, while at that time the corresponding plugins are in an old version, so I need to find a whole &ldquo;virtual&rdquo; environment for developing these tutorials.</p><h3 id=install-nodeenv>Install Nodeenv</h3><p>&ldquo;Node.js virtual environment builder&rdquo; &mdash; is the introduction for Nodeenv.<br>Install it via:</p><pre><code>$ virtualenv2 venv
source venv/bin/activate
(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ 
$ pip install nodeenv
(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ which nodeenv
/home/Trusty/code/30days/PhoneGap2.9.0/venv/bin/nodeenv
(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ nodeenv --version
0.11.1

</code></pre><p>With this nodeenv we could setup all kinds of the dev environments.</p><h3 id=wrok-with-nodeenv>Wrok With Nodeenv</h3><p>Install the node.js first, this may cause long time:</p><pre><code>(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ nodeenv nodeenv 
 * Install node.js (0.10.33 
[Trusty@~/code/30days/PhoneGap2.9.0]$ du -hs *
170M    nodeenv
8.9M    venv
(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ ls
nodeenv  npm-debug.log  venv
(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ . nodeenv/bin/activate 
(nodeenv)(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ which npm
/home/Trusty/code/30days/PhoneGap2.9.0/nodeenv/bin/npm
(nodeenv)(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ which node
/home/Trusty/code/30days/PhoneGap2.9.0/nodeenv/bin/node

</code></pre><p>Now we could install the specified version of PhoneGap, first we should find the specified versions:</p><pre><code>$ npm view phonegap


</code></pre><p>This will returns the specified versions of all of the phonegap.<br>Choose whichever you want.</p><pre><code>$ npm install phonegap@2.9.0-rc1-0.12.2

</code></pre><p>This will install the phonegap around Dec,2013, which should be fit well to the tutorial.<br>Then re-activate , or manually modify the PATH as:</p><pre><code>$ export PATH=/home/Trusty/code/30days/PhoneGap2.9.0/nodeenv/bin:$PATH
(nodeenv)(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ phonegap -v
2.9.0-rc1-0.12.2

</code></pre><h3 id=run-tutorial>Run Tutorial</h3><h4 id=create-apps>Create Apps</h4><p>Create the app via following command:</p><pre><code>(nodeenv)(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ npm config set https_proxy http://1xx.x.xx.xxx:2xxxx
(nodeenv)(venv)[Trusty@~/code/30days/PhoneGap2.9.0]$ npm config set proxy http://1xx.x.xx.xxx:2xxx
$ phonegap create audero-feed-reade com.audero.free.utility.auderofeedreader &quot;Audero Feed Reader&quot;

</code></pre></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/28/setup-dev-env-on-do/>Setup Dev Env On DO</a></h1><span class=post-date>Nov 28, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=prepare>Prepare</h3><p>Install the following packages:</p><pre><code>$ sudo apt-get install python-virtualenv
$ sudo apt-get install ruby-full ruby
$ sudo gem install rhc

</code></pre><p>Since DO&rsquo;s network is pretty good, so it&rsquo;s very swift for developing on it.</p><h3 id=textblob>TextBlob</h3><pre><code>$ virtualenv venv --python=python2.7
$ . venv/bin/activate
$ pip install textblob
$ python -m textblob.download_corpora
$ pip install flask


</code></pre></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/27/apache-parameter-adjust/>Apache Parameter Adjust</a></h1><span class=post-date>Nov 27, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=background>Background</h3><p>A wordpress machine runs on DigitalOcean often sudden the mysqld database lost error.</p><h3 id=analyze>Analyze</h3><p>This is because the memory is exhausted in DO, so first I enable the swap for machine. This method solved the problem for a long time.<br>But later it seems the robots who sent the rubbish comments continue to attack the system, causing the mysqld halt again, this time, I modified the apahce2&rsquo;s works:</p><pre><code>$ grep -Ri MaxRequestWorkers /etc/apache2/
/etc/apache2/mods-enabled/mpm_prefork.conf:# MaxRequestWorkers: maximum number of server processes allowed to start
/etc/apache2/mods-enabled/mpm_prefork.conf:     MaxRequestWorkers         150
/etc/apache2/mods-available/mpm_prefork.conf:# MaxRequestWorkers: maximum number of server processes allowed to start
/etc/apache2/mods-available/mpm_prefork.conf:   MaxRequestWorkers         150
$ vim /etc/apache2/mods-available/mpm_prefork.conf
$ vim /etc/apache2/mods-available/mpm_worker.conf
$ vim /etc/apache2/mods-available/mpm_itk.conf
$ vim /etc/apache2/mods-available/mpm_event.conf
$ service apache2 restart

</code></pre><p>The vim command is changing the MaxRequestWorkers from 150 to 10, hope this will solve the problem.</p><h3 id=tbd>TBD</h3><p>If the mysql runs into death again, then we must limit its connection towards apache2.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/27/tips-on-30days30skills-3/>Tips on 30Days30Skills(3)</a></h1><span class=post-date>Nov 27, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=day-7---gruntjs2>Day 7 - GruntJS(2)</h3><h4 id=gruntjs-markdown-plugin>GruntJS Markdown Plugin</h4><p>First download the source file:</p><pre><code>$ git clone https://github.com/shekhargulati/day7-gruntjs-livereload-example.git
$ cd day7-gruntjs-livereload-example
$ sudo npm install -g grunt
$ grunt $ cd day7-gruntjs-livereload-example
$ sudo npm install -g grunt
$ npm init
$ npm install grunt
$ sudo npm install grunt-contrib-uglify grunt-markdown grunt-contrib-watch -g
$ grunt
&gt;&gt; Local Npm module &quot;grunt-contrib-watch&quot; not found. Is it installed?

Running &quot;uglify:build&quot; (uglify) task
&gt;&gt; 1 file created.

Running &quot;markdown:all&quot; (markdown) task
File &quot;docs/html/day1.html&quot; created.

Done, without errors.

</code></pre><pre><code>	&lt;div id=&quot;main&quot; class=&quot;container&quot;&gt;
		&lt;%=content%&gt;
	&lt;/div&gt;

</code></pre><p>After grunt, the generated html file is listed as :</p><pre><code>	&lt;div id=&quot;main&quot; class=&quot;container&quot;&gt;
		&lt;p&gt;Today is the fourth day of my challenge to learn 30 technologies in 30 days. So far I am enjoying it and getting good response from fellow developers. I am more than motivated to do it for full 30 days. In this blog, I will cover how we can very easily build b
.....
	&lt;/div&gt;

</code></pre><h4 id=grunt-contrib-watch>grunt-contrib-watch</h4><p>Following command will install grunt-contrib-watch and update the package.json:</p><pre><code>$ npm install grunt-contrib-watch --save-dev

</code></pre><p>Add following code into grunt&rsquo;s initConfig method, these code ensure that if file changes, grunt will run uglify and markdown task:</p><pre><code>watch :{
    scripts :{
      files : ['js/app.js','*.md','css/*.css'],
      tasks : ['uglify','markdown']
    }
  }

</code></pre><p>Add following line to Gruntfile for watch task:</p><pre><code>grunt.loadNpmTasks('grunt-contrib-watch');

</code></pre><p>Now run <code>grunt watch</code>, then modify some files, like <code>app.js</code> under <code>js</code> folder, then detect if the generated files are modified or not.</p><p>Now run <code>grunt watch</code>, then modify some files, like <code>app.js</code> under <code>js</code> folder, then detect if the generated files are modified or not.</p><h4 id=livereload>livereload</h4><p>Edit the watch&rsquo;s configuration, enable the livereload, this will enable the service in 35729 port. Or you could modify the service port by yourself.<br>Add content into the templates/index.html:</p><pre><code>&lt;script src=&quot;http://localhost:9090/livereload.js&quot;&gt;&lt;/script&gt;

</code></pre><p>Now every single modification will let you see the final result immediately.</p><h3 id=day-8-harpjs>Day 8 Harp.JS</h3><p>Install the Harp.JS via:</p><pre><code>$ sudo npm install -g harp

</code></pre><p>Then initiate the blog via:</p><pre><code>$ harp init blog

</code></pre><p>This step won&rsquo;t be continue because the program will complain that <code>Template not found</code>.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/27/tips-on-30days30skills-4/>Tips on 30Days30Skills(4)</a></h1><span class=post-date>Nov 27, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=day-9---textblob>Day 9 - TextBlob</h3><p>Installation:</p><pre><code>Yosemite:TextBlob Trusty$ mkdir myapp
Yosemite:TextBlob Trusty$ cd myapp/
Yosemite:myapp Trusty$ virtualenv venv --python=python2.7
Running virtualenv with interpreter /usr/bin/python2.7
New python executable in venv/bin/python
Installing setuptools, pip...done.
Yosemite:myapp Trusty$ . venv/bin/activate
(venv)Yosemite:myapp Trusty$ pip install textblob
$ pip install -U textblob
$ python -m textblob.download_corpora

</code></pre><p>After adding the textblob, create flask:</p><pre><code>$ pip install flask
$ vim app.py
$ mkdir templates
$ touch templates/index.html

</code></pre><p>Modify the app.py for listening on all of the ip addresses:</p><pre><code>if __name__ == &quot;__main__&quot;:
    app.run(host='0.0.0.0',debug=True)

</code></pre><p>Then <code>python app.py</code> could get you to the website and run your apps.</p><p>The analyze code is listed as following:</p><pre><code>            $.get('/api/v1/sentiment/'+input,function(result){

                if(result.polarity &lt; 0.0){

                    $('#result').addClass(&quot;alert alert-danger&quot;)   .text(input);
                } else if( result.polarity &gt;= 0.0 &amp;&amp; result.polarity &lt;= 0.5){
                    $('#result').addClass(&quot;alert alert-warning&quot;).text(input);
                }else{
                    $('#result').addClass(&quot;alert alert-success&quot;).text(input);
                }

            })

</code></pre><p>You could easily update the apps to your rhc.</p><h3 id=day-10---phonegap>Day 10 - PhoneGap</h3><h4 id=android>Android</h4><p>Install steps:</p><pre><code>$ sudo npm install -g phonegap
$ sudo npm install -g cordova
$ phonegap create reader --id io.reader --name Reader30
$ sudo android

</code></pre><p><code>sudo android</code> is for installing the android SDK, we have to select revision 19 for phonegap currently support 19.</p><pre><code>$ cordova platform add android
$ sudo pacman -S apache-ant
$ phonegap run android

</code></pre><p>Now you could see a screen which displayed &ldquo;Device Ready&rdquo;.<br>Install some plugins for accessing the equipment:</p><pre><code>cordova plugin add org.apache.cordova.geolocation
cordova plugin add org.apache.cordova.dialogs

</code></pre><p>Edit steps:</p><pre><code>$ vim www/index.html 	# Add front page
$ rm -f www/js/index.js
$ cp -r ../example/30technologies30days-mobile-app/www/js/vendor ./www/js
$ cp -r ../example/30technologies30days-mobile-app/www/css/vendor ./www/css
$ vim www/js/app.js
$ vim www/index.html	# Add form
$ vim www/js/app.js

</code></pre><p>Now run <code>phonegap run android</code> you could see the app runs on your android emulator.</p><h4 id=ios>IOS</h4><p>In ios, we could use following command for installing the ios specified resources.</p><pre><code>(venv)Yosemite:PhoneGap Trusty$ cd reader/
(venv)Yosemite:reader Trusty$ cordova platform add ios
$ sudo npm install -g ios-deploy
$ sudo npm install -g ios-sim
$ phonegap run ios

</code></pre></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/175/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/175/>175</a></li><li class="page-item active"><a class=page-link href=/page/176/>176</a></li><li class=page-item><a class=page-link href=/page/177/>177</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/247/>247</a></li><li class=page-item><a href=/page/177/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/247/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>