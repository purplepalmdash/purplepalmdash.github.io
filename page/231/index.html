<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/11/14/compile-linux-kernel-for-beaglebone/>Compile Linux kernel for Beaglebone</a></h1><span class=post-date>Nov 14, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>###SourceCode Preparation
1. Get the latest code of beaglebone kernel:</p><pre><code>	git clone git://github.com/RobertCNelson/linux-dev.git
</code></pre><p>2. Check for your cross-compiler:</p><pre><code>	$ which arm-linux-gnueabi-gcc
	/media/y/embedded/gcc-linaro-arm-linux-gnueabi-2012.02-20120222_linux/bin/arm-linux-gnueabi-gcc
</code></pre><p>3. Start a new branch</p><pre><code>	$ git checkout origin/am33x-v3.2 -b am33x-v3.2
	Branch am33x-v3.2 set up to track remote branch am33x-v3.2 from origin.
	Switched to a new branch 'am33x-v3.2'
</code></pre><p>Since the latest kernel has been moved 3.12, we have to checkout am33x-v3.12</p><pre><code>	$ git checkout origin/am33x-v3.12 -b am33x-v3.12
</code></pre><p>You also have to manually download the latest kernel source code from github:</p><pre><code>	$ git clone git://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git
</code></pre><p>###Configure everything before compilation
Edit the system.sh file</p><pre><code>	$ cp system.sh.sample system.sh
</code></pre><p>The system.sh should have following lines:</p><pre><code>	echo &quot;Using: Cross Compiler&quot;
	CC=arm-linux-gnueabi-
	##For TI: OMAP3/4/AM35xx
	ZRELADDR=0x80008000
	#LINUX_GIT=/home/user/linux-stable/
	LINUX_GIT=/media/x/bbBlack/linux/git/linux-stable/
</code></pre><p>Then run ./build_kernel.sh to see your kernel is under compiling, you will be prompted to asked &ldquo;make menuconfig&rdquo;, choose whatever you want.Wait patiently until all of your compilation is done.<br>###Install kernel
Edit the destination for your installation, edit the file &ldquo;system.sh&rdquo;:</p><pre><code>	MMC=/dev/mmcblk0 
	# or whatever you found in your own system.
</code></pre><p>Then you simply input ./tools/install_kernel.sh, you will be asked some questions, answer then and your kernel will be installed to your sd card. Now use the SD card for booting system, you will get a brand-new system.
###Install Filesystem
Download the pre-configured filesystems from:</p><pre><code>	# For example, download the quantal related image, that's 12.10.
	$ wget http://rcn-ee.net/deb/rootfs/quantal/ubuntu-12.10-console-armhf-2013-07-22.tar.xz
	$ unxz ubuntu-12.10-console-armhf-2013-07-22.tar.xz
	$ tar xvf ubuntu-12.10-console-armhf-2013-07-22.tar
</code></pre><p>Then insert your SD card, simply input:</p><pre><code>	# take BeagleBoneBlack for example:
	$ sudo ./setup_sdcard.sh --mmc /dev/sdX --uboot bone
</code></pre><p>After setup SD card, using the newly configured SD card for booting up the system, you will get the new system running the pre-configured rootfs.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/11/14/irremote-on-arduino/>IRRemote on Arduino</a></h1><span class=post-date>Nov 14, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>###Preparation of the IRremote library
Using the downloaded,</p><pre><code>	Trusty@SomethingMissing:~/code/arduino/arduino-1.0.5/libraries$ cp -r ../../library/Arduino_IRremote_master/ ./
	Trusty@SomethingMissing:~/code/arduino/arduino-1.0.5/libraries$ pwd
	/home/Trusty/code/arduino/arduino-1.0.5/libraries
</code></pre><p>Or using git the get the latest one, in fact this one is not new at all , it updates 2 years ago.</p><pre><code>	$ git clone git://github.com/shirriff/Arduino-IRremote.git
</code></pre><p>Now we can use it for programming.
###Programming
insert the code and verify the result.</p><pre><code>	#include &lt;IRremote.h&gt;  // 使用IRRemote函数库
	 
	const int irReceiverPin = 2;  // 红外接收器的 OUTPUT 引脚接在 PIN2 接口 定义irReceiverPin变量为PIN2接口
	 
	IRrecv irrecv(irReceiverPin); // 设置irReceiverPin定义的端口为红外信号接收端口
	decode_results results;    // 定义results变量为红外结果存放位置
	 
	void setup()
	{
	  Serial.begin(9600);   // 开启串口，波特率为9600
	  irrecv.enableIRIn();   // 启动红外解码
	}
	 
	void loop() 
	{
	  if (irrecv.decode(&amp;results)) {   // 解码成功，把数据放入results变量中
	    // 把数据输入到串口
	    Serial.print(&quot;irCode: &quot;);            
	    Serial.print(results.value, HEX); // 显示红外编码
	    Serial.print(&quot;,  bits: &quot;);           
	    Serial.println(results.bits); // 显示红外编码位数
	    irrecv.resume();    // 继续等待接收下一组信号
	  }  
	  delay(600); //延时600毫秒，做一个简单的消抖
	}
</code></pre><p>###Verification
See the wired image:</p><p><img src=/images/wired.png alt=wired.png></p><p>Then see how to connect the sensor:</p><p><img src=/images/sensors.jpg alt=sensors.jpg></p><p>Now see the result:</p><p><img src=/images/IrRemote.png alt=IrRemote.png></p><p>###Seeing the light
Now we can use IRremote for controlling our mp3 player. Because it only occupy 1 GPIO, and it could support so many combinations, we can use it to control the player&rsquo;s activities.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/11/14/use-eclipse-and-c-slash-c-plus-plus-to-develop-on-beaglebone/>Use Eclipse and C/C++ to develop on Beaglebone</a></h1><span class=post-date>Nov 14, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>###Local Development on Beaglebone board.
On Beagle to verify local development:</p><pre><code>	#include &lt;iostream&gt;
	using namespace std;
	
	
	int main()
	{
		cout&lt;&lt;&quot;Hello Beagle World!&quot;&lt;&lt;endl;
		return 0;
	}
</code></pre><p>Compile and run:</p><pre><code>	$ g++ -o test test.cpp
	$ ./test
	Hello Beagle World!
</code></pre><p>###Using Cross-compiler for developing applications for Beaglebone
Launch eclipse, then install new software via help-> Install new software, make sure installed CDT. then we will install RSE.</p><pre><code>	$ pwd
	/home/Trusty/.eclipse/org.eclipse.platform_4.3.0_1543616141_linux_gtk_x86_64/plugins
	cp -ar /home/Trusty/Downloads/RSE/eclipse/features/* ./
	cd ../plugins/
	cp -ar /home/Trusty/Downloads/RSE/eclipse/plugins/* ./
</code></pre><p>This installed the RSE(Remote System Explorer). We can use it for browsing the remote beaglebone board.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/11/13/dhcpd-address-assignment-rules/>dhcpd address assignment rules</a></h1><span class=post-date>Nov 13, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>1. Configure the following rules under OpenWRT router:</p><pre><code>config host
	option name 'beaglebone'
	option ip '10.0.0.123'
</code></pre><p>And in configuration webpage we can see the requiment is like following:</p><p><img src=/images/dhcpass.jpg alt=dhcp.img></p><p>2. Now reboot beagle board, to see the client&rsquo;s caught ip address:</p><pre><code>	root@beaglebone:~# ifconfig
	eth0      Link encap:Ethernet  HWaddr xx:cx:gaoguogueogu  
	          inet addr:10.0.0.123  Bcast:10.0.0.255  Mask:255.255.255.0
	          inet6 addr: fe80::9259:afff:fe65:d98c/64 Scope:Link
	          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
</code></pre><p>Also in OpenWRT router we can see the attached pc:</p><p><img src=/images/assigned.jpg alt=assigned></p><p>This indicate the client-id specified assignment could judged by dhcpd to assign the specified address</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/11/13/play-music-on-openwrt/>Play Music On OpenWRT</a></h1><span class=post-date>Nov 13, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>1. Install usbutils, this will enable you to use lsusb to detect your usb equipments.</p><pre><code>	$ opkg install usbutils
</code></pre><p>2. Use lsusb to detect your usb audio card.</p><pre><code>	# root@OpenWrt:~# lsusb
	Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
	Bus 001 Device 002: ID 1a40:0101 TERMINUS TECHNOLOGY INC. USB-2.0 4-Port HUB
	Bus 001 Device 003: ID 0781:557c SanDisk Corp. 
	Bus 001 Device 004: ID 0424:2507 Standard Microsystems Corp. 
	Bus 001 Device 005: ID 0e5c:6441 Bitland Information Technology Co., Ltd C-Media Sound Device
	Bus 001 Device 006: ID 0e5c:6119 Bitland Information Technology Co., Ltd remote receive and control device
</code></pre><p>Now we will see the C-Media Sound Device has been detected in our own openwrt equipment.
3. Install usb audio kernel support modules:</p><pre><code>	$ opkg install kmod-usb-audio
</code></pre><p>4. Install madplay for playing audio files:</p><pre><code>	$ opkg install madplay
</code></pre><p>5. For configuring the sound, install alsa-utils.</p><pre><code>	$ opkg install alsa-utils
</code></pre><p>6. Install madplayer for playing mp3</p><pre><code>	$ opkg install madplayer
</code></pre><p>When Playing mp3, the cpu usage is only around 20%, and we can satisfy the volumn using alsamixer.</p></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/230/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/230/>230</a></li><li class="page-item active"><a class=page-link href=/page/231/>231</a></li><li class=page-item><a class=page-link href=/page/232/>232</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/248/>248</a></li><li class=page-item><a href=/page/232/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/248/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>