<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/26/tips-on-30days30skills-2/>Tips on 30Days30Skills(2)</a></h1><span class=post-date>Nov 26, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=day-5---gruntjs>Day 5 - GruntJS</h3><p>Install via:</p><pre><code>$ sudo npm install grunt-cli -g

</code></pre><p>After running you could see grunt is avaiable:</p><pre><code>$ which grunt
/usr/local/bin/grunt

</code></pre><p>Automatically create the package.json via npm init.</p><pre><code>Yosemite:GruntJS Trusty$ mkdir blog
Yosemite:GruntJS Trusty$ cd blog
Yosemite:blog Trusty$ npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sane defaults.

See `npm help json` for definitive documentation on these fields
and exactly what they do.

Use `npm install &lt;pkg&gt; --save` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
name: (blog)
version: (1.0.0)
description: My awesome blog
entry point: (index.js)
test command:
git repository:
keywords:
author:
license: (ISC)
About to write to /Users/Trusty/Code/30Days/GruntJS/blog/package.json:

{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}


Is this ok? (yes) yes
Yosemite:blog Trusty$ cat package.json
{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}

</code></pre><p>Run following command will install grunt locally and also update the dependencies, also update the package.json:</p><pre><code>Yosemite:blog Trusty$ sudo npm install grunt --save-dev
Yosemite:blog Trusty$ cat package.json
{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;grunt&quot;: &quot;^0.4.5&quot;
  }
}
`

Yosemite:blog Trusty$ cat package.json
{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;grunt&quot;: &quot;^0.4.5&quot;
  }
}

Yosemite:blog Trusty$ cat package.json
{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;grunt&quot;: &quot;^0.4.5&quot;
  }
}

Yosemite:blog Trusty$ cat package.json
{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;grunt&quot;: &quot;^0.4.5&quot;
  }
}

Yosemite:blog Trusty$ cat package.json
{
  &quot;name&quot;: &quot;blog&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;My awesome blog&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;grunt&quot;: &quot;^0.4.5&quot;
  }
}

</code></pre><pre><code>Yosemite:blog Trusty$ grunt
A valid Gruntfile could not be found. Please see the getting started guide for
more information on how to configure grunt: http://gruntjs.com/getting-started
Fatal error: Unable to find Gruntfile.
Yosemite:blog Trusty$ vim Gruntfile.js
Yosemite:blog Trusty$ mkdir js
Yosemite:blog Trusty$ cd js/
Yosemite:js Trusty$ touch app.js
Yosemite:js Trusty$ vim app.js
function hello(name) {
	return &quot;Hello, &quot; + name;
}
function bye(name) {
	return &quot;Bye, &quot; + name;
}
Yosemite:js Trusty$ vim ../
Gruntfile.js   Gruntfile.js~  js/            node_modules/  package.json
Yosemite:js Trusty$ vim ../Gruntfile.js
module.exports = function(grunt) {
	grunt.initConfig({
		uglify: {
				build: {
					       src: ['js/app.js'],
					       dest: 'js/app.min.js'
				       }
			}
	});

	grunt.loadNpmTasks('grunt-contrib-uglify');
	grunt.registerTask('default', ['uglify']);
};
Yosemite:js Trusty$ cd ..
Yosemite:blog Trusty$ ls
Gruntfile.js	Gruntfile.js~	js		node_modules	package.json
Yosemite:blog Trusty$ grunt
&gt;&gt; Local Npm module &quot;grunt-contrib-uglify&quot; not found. Is it installed?
Warning: Task &quot;uglify&quot; not found. Use --force to continue.

Aborted due to warnings.
Yosemite:blog Trusty$ sudo grunt
&gt;&gt; Local Npm module &quot;grunt-contrib-uglify&quot; not found. Is it installed?
Warning: Task &quot;uglify&quot; not found. Use --force to continue.

Aborted due to warnings.
Yosemite:blog Trusty$ sudo npm install grunt-contrib-uglify --save-dev
npm WARN package.json blog@1.0.0 No repository field.
npm WARN package.json blog@1.0.0 No README data
grunt-contrib-uglify@0.6.0 node_modules/grunt-contrib-uglify
├── uri-path@0.0.2
├── loTrusty@2.4.1
├── chalk@0.5.1 (escape-string-regexp@1.0.2, ansi-styles@1.1.0, supports-color@0.2.0, has-ansi@0.1.0, strip-ansi@0.3.0)
├── uglify-js@2.4.15 (uglify-to-browserify@1.0.2, async@0.2.10, optimist@0.3.7, source-map@0.1.34)
└── maxmin@1.0.0 (figures@1.3.5, pretty-bytes@1.0.1, gzip-size@1.0.0)
Yosemite:blog Trusty$ grunt
Running &quot;uglify:build&quot; (uglify) task
&gt;&gt; 1 file created.

Done, without errors.
Yosemite:blog Trusty$ cat js/app.min.js
function hello(a){return&quot;Hello, &quot;+a}function bye(a){return&quot;Bye, &quot;+a}Yosemite:blog Trusty$

</code></pre><p>See, grunt will doing the boring tasks for us without any errors.</p><h3 id=day-6---grails>Day 6 - Grails</h3><h4 id=archlinux-setting>ArchLinux Setting</h4><p>Install grails under ArchLinux:</p><pre><code>sudo pacman -S grails

</code></pre><p>Then in eclipse, search Help > Eclipse Marketplace for &ldquo;Grails&rdquo; , it will hint you for installing grails.</p><p>File -> New -> Project -> Grails Project. First time it will ask you for setting the grails home directory.</p><p><img src=/images/grailshome.jpg alt=/images/grailshome.jpg></p><p>Set the project like:<br><img src=/images/grailsproject.jpg alt=/images/grailsproject.jpg></p><p>Choose Grails perspective.</p><h4 id=mac-setting>MAC Setting</h4><p>Download the eclipse from:<br><a href=https://eclipse.org/downloads/>https://eclipse.org/downloads/</a><br>Download the Java SE from:<br><a href=http://support.apple.com/kb/DL1572>http://support.apple.com/kb/DL1572</a><br>After installation, search the Marketplace for &ldquo;Grails&rdquo; install the grails for eclipse Luna.<br>Install Grails:</p><pre><code>$ brew install grails
$ which grails
/usr/local/bin/grails

</code></pre><p>When configure the Grails project for the first time, the installation is <code>/usr/local/Cellar/grails/2.4.4/libexec</code>, then create a new project named &ldquo;linkbin&rdquo;.</p><p>Create new &ldquo;domain class&rdquo; named &ldquo;User&rdquo; and &ldquo;Story&rdquo;<br>Replace the class User via:</p><pre><code>class User {
	String email
	String fullName
	static constraints = {
		email unique:true , blank : false , email:true
		fullName size:5..100  , blank : false
	}
	
}

</code></pre><p>Replace the class Story via:</p><pre><code>package linkbin

class Story {
	String link
	String description
	Date submittedOn

	static constraints = {
		link url : true , blank : false ,unique : true
		description size : 10..1000 , blank : false
	}
}

</code></pre><p>Connect the User and Story Class, first modify the Story and User Class:</p><pre><code>package linkbin
class Story {
    String link
    String description
    Date submittedOn  
    static belongsTo = [user : User]
    static constraints = {
        link url : true , blank : false ,unique : true 
        description size : 10..1000 , blank : false 
    }
    static mapping = {
        table 'stories'
    }
}

</code></pre><p>User Class:</p><pre><code>package linkbin
class User {
	String email
	String fullName
	static hasMany = [stories : Story]
	static constraints = {
		email unique:true , blank : false , email:true
		fullName size:5..100  , blank : false
	}
	static mapping = {
		table 'users'
	}
}

</code></pre><p>Then generate the Controller and view:<br>domain-> linkbin-> User.groovy-> Grails Tools -> Grails Command Wizard, input linkbin.User and click &ldquo;Finish&rdquo;. The same steps are the same for Story.</p><p>Now the CRUD controller and viewpoint will be generated.</p><p>Right-click the project and &ldquo;Run as Grails App&rdquo;, then you could</p><p>Now create the openshift app via following command:</p><pre><code>$ rhc create -app linkbin tomcat-7 postgresql-9.2

</code></pre><p>This will automatically create the apps on openshift, and hit you like:</p><pre><code>Your application 'linkbin' is now available.

  URL:        http://linkbin-kkkkkkktttt.rhcloud.com/
  SSH to:     xxxxxxxxxxxx@linkbin-kkkkkkktttt.rhcloud.com
  Git remote: ssh://xxxxxxxx@linkbin-kkkkkkktttt.rhcloud.com/~/git/linkbin.git/
  Cloned to:  /Users/Trusty/Documents/workspace/linkbin/linkbin

Run 'rhc show-app linkbin' for more details about your app.

</code></pre><p>And go to the linkbin folder:</p><pre><code>git rm -rf src/ pom.xml
git commit -am &quot;deleted default source code&quot;

</code></pre><p>Modify the conf/Datasource.groovy file&rsquo;s configuration:</p><pre><code>		production {
			dataSource {
				dbCreate = &quot;update&quot;
				driverClassName = &quot;org.postgresql.Driver&quot;
				dialect = org.hibernate.dialect.PostgreSQLDialect
			uri = new URI(System.env.OPENSHIFT_POSTGRESQL_DB_URL)
			url = &quot;jdbc:postgresql://&quot;+uri.host+uri.path+&quot;/&quot;+System.env.OPENSHIFT_APP_NAME
				username = System.env.OPENSHIFT_POSTGRESQL_DB_USERNAME
				password = System.env.OPENSHIFT_POSTGRESQL_DB_PASSWORD
			}
		}


</code></pre><p>Generate the war file via:<br>&ldquo;Grails Command Wizard&rdquo;, use &ldquo;war&rdquo; command, the name of its generation is " target/ROOT.war&rdquo;, then the ROOT.war will be generated, copy it to the webapps under linkbin:</p><pre><code>$ git add .
$ git commit -am &quot;linkbin app deployed to cloud&quot;
$ git push

</code></pre><p>After push we could visit the above url for visiting the apps.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/25/octopress-tips/>Octopress Tips</a></h1><span class=post-date>Nov 25, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=hide-asidebar>Hide AsideBar</h3><p>Add following lines into your <code>_config.yml</code>:</p><pre><code>sidebar: collapse

</code></pre><p>Then regenerate the whole website.</p><h3 id=changing-navigation>Changing Navigation</h3><p>Add &ldquo;About Me&rdquo; navigation:</p><pre><code>$ cat source/_includes/custom/navigation.html
&lt;ul class=&quot;main-navigation&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;{{ root_url }}/&quot;&gt;Blog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;{{ root_url }}/blog/archives&quot;&gt;Archives&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;{{ root_url }}/about&quot;&gt;About Me&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</code></pre><p>Add customized tags:</p><pre><code>  &lt;li&gt;&lt;a href=&quot;{{ root_url }}/blog/categories/linux/&quot;&gt;Linux&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;{{ root_url }}/blog/categories/embedded/&quot;&gt;Embedded&lt;/a&gt;&lt;/li&gt;

</code></pre><h3 id=add-customized-background>Add Customized Background</h3><p>Edit the <code>sass/cumstom/_style.css</code>, change following content:</p><pre><code>html {
  background: #555555 url(&quot;/images/pagebackground.jpg&quot;);
  //background: #555555;
}

</code></pre><p>Now regenerate the website, ten you got the modified background website.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/24/upgrade-openwrt-on-mw151rm3g/>Upgrade OpenWRT on MW151RM3G</a></h1><span class=post-date>Nov 24, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=prepare>Prepare</h3><p>First go to <a href=http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/>http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/</a>, find the &ldquo;wr703n&rdquo;, download the 2 files.</p><pre><code>$ ls -l openwrt*
-rw-r----- 1 Trusty root 3932160 Nov 24 13:50 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin
-rw-r----- 1 Trusty root 3342340 Nov 24 13:50 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-sysupgrade.bin

</code></pre><p>sysupgrade.bin is for upgrading.</p><h3 id=upgrade>Upgrade</h3><p>System-> Backup/Flash Firmware.<br>Flash New firmware image, choose File. Select the sysupgrade.bin, Upgrade.</p><p>Tehn you have to wait for the changes to be applied, around half a miniutes, then everything will be OK.</p><h3 id=use-flash-disk-for-booting>Use Flash Disk For Booting</h3><p>Cause the inner storage is only 4M-BYTE, we have to enlarge it via adding the external flash disk .</p><pre><code>$ opkg update
$ opkg install block-mount kmod-usb-storage fdisk

</code></pre><p>Comparing to Attitude Adjustment, the kmod-fs-ext4 couldn&rsquo;t be installed, thus we have to formt the flash disk into ext3 format.</p><p>Cause we won&rsquo;t installed the kmod-fs-ext4, so the external system couldn&rsquo;t be used, this time just flash back the Attitude Adjustment.</p><h3 id=rootfs-on-external-storage>Rootfs on External Storage</h3><p>Copy the filesystem into the external disk:</p><pre><code>root@OpenWrt:/mnt/sda2# tar -C /overlay -cvf - . | tar -C /mnt/sda2 -xf -
root@OpenWrt:/mnt/sda2# ls
etc         lib         lost+found  mnt         sbin        usr

</code></pre><p>Configure the /etc/config/fstab:</p><pre><code>config mount
        option target   /overlay
        option device   /dev/sda2
        option fstype   ext3
        option options  rw,sync
        option enabled  1
        option enabled_fsck 0

</code></pre><p>Reboot and you got 8G rootfs enabled router.</p><h3 id=wireless--wired>Wireless-> Wired.</h3><p>First set the wireless port to client mode:<br><img src=/images/wireless_client.jpg alt=/images/wireless_client.jpg></p><p>Then set the wired port to static address:<br><img src=/images/wired_config.jpg alt=/images/wired_config.jpg></p><p>Now reset your router and connect the ethernet port with a line, the equipments who only have ethernet could use router&rsquo;s wireless signal for accessing the network.<br>Later when I study in the library, this router could easily transfer the signal from wireless to wired and let surfacePro work properly.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/23/dnscrypt-plus-ssh/>DNSCrypt+ssh</a></h1><span class=post-date>Nov 23, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Sometips for recording how to cross the greatfxxewall:</p><h3 id=ssh>SSH</h3><p>Use following command for forwarding your flow to remote machine:</p><pre><code>alias enablexx='ssh -C -qTfnN -D 1395 root@xxx.xxx.xxx.xxx

</code></pre><p>xxx.xxx.xxx.xxx should be the machine outside of China.<br>Then in your browser set the proxy to 127.0.0.1:1395, while this is the socket proxy, so choose sock4/sock5 for configuration parameters.</p><h3 id=dns-cryption>DNS Cryption</h3><p>For the DNS flow will be hijacked by greatfxxxewall, we have to encrypt all of the traffics for DNS Querying.</p><p>DNSCrypt is a piece of software that encrypts DNS traffic between the user and a DNS resolver, preventing spying, spoofing or man-in-the-middle attacks.<br>Install it via:</p><pre><code>$ sudo pacman -S  dnscrypt-proxy

</code></pre><p>Then modify the <code>/etc/resolv.conf</code> content to:</p><pre><code># Generated by resolvconf
nameserver 127.0.0.1

</code></pre><p>Previously it would be <code>10.0.0.1</code>, but after we enabled the DNS cryption, we will use our own dns server as in 127.0.0.1.<br>Note: In office I won&rsquo;t change this file because the DNS is safe in ALU.</p><p>Start/Stop the service via:</p><pre><code>### encrypt my dns flow
alias enabledns='sudo systemctl start dnscrypt-proxy.service'
alias disdns='sudo systemctl stop dnscrypt-proxy.service'

</code></pre><p>Above 2 lines has been written to ~/.zshrc, so everytime I just type enable/dis(dns) I could enable/disable the DNS encryption.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2014/11/23/tips-on-30days30skills/>Tips on 30Days30Skills(1)</a></h1><span class=post-date>Nov 23, 2014<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><h3 id=day-3---flask>Day 3 - Flask</h3><p>First install the virtualenv environment via:</p><pre><code>$ brew install pyenv-virtualenv

</code></pre><p>Create the 2.7 virtualenv of python, first you have to install 2.7(before you could use list for listing all of the aviable versions), then use following command for creating the 2.7 virtualenv for developing flask:</p><pre><code>$ eval &quot;$(pyenv init -)&quot;
$ pyenv install --list
$ pyenv install 2.7
$ pyenv virtualenv 2.7 venv_For_Flask_2.7
$ pyenv versions
$ pyenv activate venv_For_Flask_2.7
(venv_For_Flask_2.7)Yosemite:~ Trusty$ pip install flask

</code></pre><p>Git clone the project from github, then install via the requirement.txt:</p><pre><code>$ git clone https://github.com/shekhargulati/instant-flask-web-development-book-app.git scheduleapp
$ cd scheduleapp/
$ pip install -r requirements.txt
$ python manage.py create_tables
$ python manage.py runserver

</code></pre><p>Now you could visit the http://localhost:5000 for viewing the result.</p><p>Since you created this appliation, so it&rsquo;s very easy for deploying it on Openshift.</p><p>Install rhc on Mac, before install, make sure your network is configured OK(mine is set the proxy via ):</p><pre><code>sudo gem install rhc

</code></pre><p>Run following command for setup the rhc on your own machine:</p><pre><code>rhc setup

</code></pre><p>Deploy the app via following command;</p><pre><code>MacBook-Air-di-Trusty:schedulingapp Trusty$ rhc create-app schedapp python-2.7 postgresql-9.2 --from-code=https://github.com/shekhargulati/schedapp-openshift.git

</code></pre><p>After deployment, the following app will be available for accessing:<br><a href=http://schedapp-kkkttt.rhcloud.com/>http://schedapp-kkkttt.rhcloud.com/</a></p><h3 id=day-4---predictionio>Day 4 - PredictionIO</h3><p>Install Vagrant and its plug-ins:</p><pre><code>$ sudo pacman -S vagrant
$ vagrant plugin install vagrant-login vagrant-share

</code></pre><p>Download the latest PredictionIO-Vagrant:</p><pre><code>$ wget https://github.com/PredictionIO/PredictionIO-Vagrant/archive/v0.8.2.tar.gz

</code></pre><p>For working under proxy, install vagrant-proxyconf plugins:</p><pre><code>$ vagrant plugin install vagrant-proxyconf

</code></pre><p>Add following to</p><pre><code>  # Proxy Setting
  config.proxy.http = &quot;http://1xx.x.xx.xxx:2xxx&quot;
  config.proxy.https = &quot;http://1xx.x.xx.xxx:2xxx&quot;
  config.proxy.no_proxy = &quot;localhost,127.0.0.1&quot;
end

</code></pre><p>Following the tutorial may cause error, so I follow the guideline from the official website:</p><pre><code>$ vagrant box add precise64 http://files.vagrantup.com/precise64.box

</code></pre><p>Then go the downloaded folder and start the vagrant:</p><pre><code>$ pwd
/media/y/Vagrant/PredictionIO/PredictionIO-Vagrant-0.8.2
$ vagrant up

</code></pre><p>Now login into the vagrant machine and add the new user:</p><pre><code>$ vagrant ssh
vagrant@precise64:~$ /opt/PredictionIO/bin/users 
Warning: JAVA_HOME environment variable is not set.

PredictionIO CLI User Management

1 - Add a new user
2 - Update email of an existing user
3 - Change password of an existing user
Please enter a choice (1-3): 1
Adding a new user
Email: kkkttt@gmail.com
Password: ********
Retype password: ********
First name: Trusty
Last name: mao
User added

</code></pre><p>For settingup the vagrant in opensuse:</p><pre><code>$ wget https://dl.bintray.com/mitchellh/vagrant/vagrant_1.6.5_x86_64.rpm
$ rpm -ivh vagrant_1.6.5_x86_64.rpm
$ which vagrant
/usr/bin/vagrant 
$ vagrant box add precise64 http://files.vagrantup.com/precise64.box
$ vagrant plugin install vagrant-proxyconf

</code></pre><p>Previous version won&rsquo;t create the user successfully, then I switch to 0.6.5, thus everything goes OK.</p><p>After Added the users, you could visit the webpage at &ldquo;http://localhost:9000&rdquo;</p><p>Add the application named &ldquo;blog-recommender&rdquo; in the webpage.</p><h4 id=eclipse-setup>Eclipse Setup</h4><p>The Url for input in the elipse is:<br><a href=http://download.eclipse.org/technology/m2e/releases>http://download.eclipse.org/technology/m2e/releases</a></p><p>Install the m2eclipse via following methods:<br><img src=/images/eclipseplugins_m2eclipse1.jpg alt=/images/eclipseplugins_m2eclipse1.jpg>
Then:<br><img src=/images/eclipseplugins_m2eclipse2.jpg alt=/images/eclipseplugins_m2eclipse2.jpg></p><p>Create project via:<br><img src=/images/createmaven.jpg alt=/images/createmaven.jpg><br>You will encounter error, simply download the catelog file from:<br><a href=http://repo1.maven.org/maven2/archetype-catalog.xml>http://repo1.maven.org/maven2/archetype-catalog.xml</a>_<br>Then add the catalog file like following:<br><img src=/images/addcatalog.jpg alt=/images/addcatalog.jpg><br>Now re-create the project :<br><img src=/images/maven_archetype_quickstart.jpg alt=/images/maven_archetype_quickstart.jpg></p><p>But this won&rsquo;t solve the problem, we have to install maven manually in ArchLinux:</p><pre><code>$ sudo pacman -S maven
$ # fetch the files from: 
	http://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/maven/archetypes/maven-archetype-quickstart/
	maven-archetype-quickstart-1.1.jar
$ mvn install:install-file -DgroupId=org.apache.maven.archetypes -DartifactId=maven-archetype-webapp -Dversion=1.0 -Dpackaging=jar -Dfile=maven-archetype-weba
pp-1.0.jar

</code></pre><p>Now re-new the configuration.</p><p>This method is not OK, finally I downloaded the Eclipse Kepler and place it under the <code>/media/y/Vagrant/eclipse</code>, this time it could create the project successfully, but it failed when creating classes, complaing that missing some dependencies.</p></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/172/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/172/>172</a></li><li class="page-item active"><a class=page-link href=/page/173/>173</a></li><li class=page-item><a class=page-link href=/page/174/>174</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/243/>243</a></li><li class=page-item><a href=/page/174/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/243/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>