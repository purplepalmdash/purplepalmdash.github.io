<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta name=generator content="Hugo 0.64.0"><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dash &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><link href=%7balternate%20%7bRSS%20application/rss+xml%20%20index%20alternate%20%20false%20false%20true%20false%20false%200%7d%20/index.xml%20http://purplepalmdash.github.io/index.xml%7d rel=alternate type=application/rss+xml title="Dash &#183; Dash"><meta name=description content><meta name=keywords content="unix,virtualization,embedded,linux"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>很惭愧，就做了一点微小的工作</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=posts><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/12/13/ssh-with-no-password-for-github/>ssh with no password for github</a></h1><span class=post-date>Dec 13, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>###Github Account Setting
Steps for settingup in your github accounting:<br>Go to your Settings.<br>Click &ldquo;SSH Keys&rdquo; in the left sidebar<br>Click &ldquo;Add SSH key&rdquo;<br>Paste your key into the &ldquo;Key&rdquo; field<br>Click &ldquo;Add key&rdquo;<br>Confirm the action by entering your GitHub password</p><p>The public key could be got via:</p><pre><code>	$ xclip -sel clip &lt; ~/.ssh/id_rsa.pub

</code></pre><p>Then see if you were authorized by github:</p><pre><code>	[Trusty@XXXyyy debian_octopress]$ ssh -T git@github.com
	Hi geogueo! You've successfully authenticated, but GitHub does not provide shell access.

</code></pre><p>###Setting for repository
Add the remote url for local repository</p><pre><code>	[Trusty@XXXyyy debian_octopress]$ git remote set-url origin git@github.com:geogueo/debian_octopress.git

</code></pre><p>Now you can use the following command for swiftly commit your code</p><pre><code>	[Trusty@XXXyyy debian_octopress]$ unset SSH_ASKPASS
	[Trusty@XXXyyy debian_octopress]$ git push origin master
	Warning: Permanently added the RSA host key for IP address '192.30.252.129' to the list of known hosts.
	Everything up-to-date

</code></pre></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/12/13/write-blogger-in-linux/>Write Blogger in Linux</a></h1><span class=post-date>Dec 13, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>###blogtk
Install it via &ldquo;yaourt -S blogtk&rdquo;</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/12/12/kali-linux-in-qemu/>KALI Linux in Qemu</a></h1><span class=post-date>Dec 12, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>Download the iso from kali website<a href=http://www.kali.org/downloads/>http://www.kali.org/downloads/</a>:</p><pre><code>	$ wget http://cdimage.kali.org/kali-images/kali-1.0.5/kali-linux-1.0.5-i386.iso

</code></pre><p>Create qemu img file:</p><pre><code>	$ qemu-img create -f qcow2 kali.qcow2 30G
	Formatting 'kali.qcow2', fmt=qcow2 size=32212254720 encryption=off cluster_size=65536 lazy_refcounts=off 
Run installation. Here we use the run-qemu script which has been generated before under the same directory:
	[Trusty@DashArch kali]$ ./run-qemu -hda ./kali.qcow2 -boot d -cdrom /media/nfs/iso/kali-linux-1.0.5-i386.iso  -m 1024 -enable-kvm -usb

</code></pre><p>Choose &ldquo;Graphic Install&rdquo; because currently we are not familiar with this brand new distribution.<br>Command for startup the sytem is:</p><pre><code>	[Trusty@DashArch kali]$ ./run-qemu -hda ./kali.qcow2 -boot d -cdrom /media/nfs/iso/kali-linux-1.0.5-i386.iso  -m 1024 -enable-kvm -usb

</code></pre><p>After installation finished, run &ldquo;sudo apt-get update&rdquo; and &ldquo;sudo apt-get upgrade&rdquo; to update your system to the newest version.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/12/12/ntp-in-lan-based-on-openwrt/>NTP in LAN based on OPENWRT</a></h1><span class=post-date>Dec 12, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>###Package Installation
Disable the system default ntp server and install ntpd, this ntpd is the real ntpd package, not busybox-ntpd</p><pre><code>	opkg update
	opkg install ntpd
	/etc/init.d/sysntpd disable
	/etc/init.d/ntpd enable
	/etc/init.d/ntpd start
	netstat -l | grep ntp

</code></pre><p>The client installation, on debian:</p><pre><code>	apt-get install ntp

</code></pre><p>###Server Configuration
Comment all of the possible reference server, use local time source.</p><pre><code>	root@OpenWrt:~# cat /etc/ntp.conf 
	# use a random selection of 4 public stratum 2 servers
	# see http://twiki.ntp.org/bin/view/Servers/NTPPoolServers
	
	restrict default nomodify notrap noquery
	#restrict default noquery
	
	#restrict 127.0.0.1
	restrict 10.0.0.0 mask 255.255.255.0 nomodify notrap
	
	server 127.127.1.0	# LOCAL CLOCK
	fudge 127.127.1.0 stratum 0
	
	driftfile  /var/lib/ntp/ntp.drift

</code></pre><p>Then restart the service. Your ntp server is available.
###Client Configuration
Enable saned to enable ntp client on beaglebone:</p><pre><code>	# error message
	[....] Starting NTP server: ntpdsaned disabled; edit /etc/default/saned
	vim /etc/default/saned 
	# Set to yes to start saned
	RUN=yes

</code></pre><p>Then we have to enable the ntp client&rsquo;s configuration:<br>For Client manually synchornize</p><pre><code>	root@arm:~# ntpdate 10.0.0.1
	 1 Jan 05:18:55 ntpdate[2243]: the NTP socket is in use, exiting
	root@arm:~# ps -ef | grep ntp
	ntp       1805     1  0 04:30 ?        00:00:00 /usr/sbin/ntpd -p /var/run/ntpd.pid -g -u 107:112
	root      2245  2127  0 05:19 pts/0    00:00:00 grep ntp
	root@arm:~# kill 1805
	root@arm:~# date
	Sat Jan  1 05:19:05 UTC 2000
	root@arm:~# ntpdate 10.0.0.1
	12 Dec 07:38:44 ntpdate[2247]: step time server 10.0.0.1 offset 440129967.397166 sec
	root@arm:~# date
	Thu Dec 12 07:38:46 UTC 2013

</code></pre><p>The client configuration for ntp, remove all of the possible server, use LAN server:</p><pre><code>	server 10.0.0.1

</code></pre><p>tzselect will set the timezone of the equipment. The result is:</p><pre><code>	TZ='Asia/Shanghai'; export TZ

</code></pre><p>Add it into the ~/.profile, then your time will be adjusted to Shanghai Time.
###Update time via http
Since I located in UMT+8, I will use following commands for sync the time</p><pre><code>	date $(wget -O - &quot;http://www.timeapi.org/utc/in+eight+hours&quot; 2&gt;/dev/null | sed s/[-T:+]/\ /g | awk '{print $2,$3,$4,$5,&quot;.&quot;,$6}' | tr -d &quot; &quot; )

</code></pre><p>Then add it to crontab</p><pre><code>	root@OpenWrt:~# cat /bin/time.sh 
	#!/bin/sh
	#echo $http_proxy
	#echo $https_proxy
	date $(wget -O - &quot;http://www.timeapi.org/utc/in+eight+hours&quot; 2&gt;/dev/null | sed s/[-T:+]/\ /g | awk '{print $2,$3,$4,$5,&quot;.&quot;,$6}' | tr -d &quot; &quot; )

</code></pre><p>The crontab -e should like following:</p><pre><code>	* */3 * * * /bin/time.sh

</code></pre><p>This means every 3 hours the script will be called for synchronizing the time.<br>Now we can enjoy the precise time from the internet and make it availale for the service on LAN.</p></div><div class=post><h1 class=post-title><a href=http://purplepalmdash.github.io/2013/12/12/western-digits-green-disk-on-ubuntu/>Western Digital Green Disk on Ubuntu</a></h1><span class=post-date>Dec 12, 2013<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><p>The WD20EARS (and other sizes include 1.0 and 1.5 TB driver in the series) will attempt to park the read heads once every 8 seconds FOR THE LIFE OF THE HDD which is just horrible! To see if you are affected use the smartctl command (part of smartmontools). If the last column changes rapidly, this section applies to your drive.</p><pre><code>	# smartctl /dev/sdb -a | grep Load_Cycle
	193 Load_Cycle_Count        0x0032   001   001   000    Old_age   Always       -       597115	

</code></pre><p>We have to disable this feature. Add lines to /etc/rc.local</p><pre><code>	hdparam -S 242 /dev/sda
	exit 0

</code></pre><p>The effect for upper comand is listed as:</p><pre><code>	# hdparm -S 242 /dev/sda
	/dev/sda:
	 setting standby to 242 (1 hours)

</code></pre><p>By default the disk will standby when 1 hours reached, that will avoid our disk from broken.</p></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/211/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/211/>211</a></li><li class="page-item active"><a class=page-link href=/page/212/>212</a></li><li class=page-item><a class=page-link href=/page/213/>213</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/238/>238</a></li><li class=page-item><a href=/page/213/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/238/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>